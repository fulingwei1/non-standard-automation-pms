# Agent Teams - 采购库存管理系统前端开发 启动计划

**创建时间**: 2026-02-16  
**目标**: 为采购-物料-库存闭环系统开发完整前端界面

---

## 📋 总体规划

### 后端现状
- ✅ **13个数据表** 已创建
- ✅ **32个API接口** 已开发并测试
- ✅ **完整文档** 已交付

### 前端目标
- 🎯 3个核心功能模块的前端界面
- 🎯 对接后端32个API
- 🎯 响应式设计，支持桌面端和移动端
- 🎯 现代化UI（shadcn/ui组件库）

---

## 🚀 并行开发策略

采用 **3个 Agent Teams 并行开发**，每个Team负责一个功能模块：

### Team 1: 智能采购管理前端
**负责API**: 10个  
**核心页面**:
1. 采购建议列表页
2. 采购建议详情页（含AI推荐供应商）
3. 供应商绩效管理页
4. 供应商排名页
5. 采购订单跟踪页
6. 供应商报价比价页

**关键功能**:
- 采购建议审批流程
- AI供应商推荐可视化
- 供应商多维度评分展示
- 订单跟踪时间轴
- 报价对比表格

**预计工期**: 20-30分钟

---

### Team 2: 物料库存管理前端
**负责API**: 12个  
**核心页面**:
1. 库存总览仪表板
2. 库存查询页（支持多维度筛选）
3. 物料交易记录页
4. 物料预留管理页
5. 领料/退料/转移页
6. 库存盘点任务页
7. 库存分析页（周转率、库龄）

**关键功能**:
- 库存实时查询
- 批次追溯
- 盘点流程管理（创建→录入→审批）
- 库存周转率图表
- 库龄分布饼图

**预计工期**: 25-35分钟

---

### Team 3: 智能缺料预警前端
**负责API**: 10个  
**核心页面**:
1. 缺料预警看板（4级预警可视化）
2. 预警详情页（含影响分析）
3. AI处理方案推荐页（5种方案对比）
4. 需求预测页（3种算法图表）
5. 缺料趋势分析页
6. 根因分析页

**关键功能**:
- 预警级别颜色编码（URGENT红色/CRITICAL橙色/WARNING黄色/INFO蓝色）
- AI方案评分可视化（雷达图）
- 需求预测曲线（含置信区间）
- 缺料趋势折线图
- 根因分析柱状图

**预计工期**: 20-30分钟

---

## 🛠️ 技术栈

### 前端框架
- **React 18** + **TypeScript**
- **Vite** (构建工具)
- **React Router** (路由)

### UI组件库
- **shadcn/ui** (主要组件)
- **Tailwind CSS** (样式)
- **Lucide React** (图标)

### 数据可视化
- **Recharts** (图表库)
- **React Query** (数据获取和缓存)

### 状态管理
- **Zustand** (轻量级状态管理)

### 表单处理
- **React Hook Form**
- **Zod** (表单验证)

### API对接
- **Axios** (HTTP客户端)

---

## 📐 设计规范

### 页面布局
```
┌─────────────────────────────────────────┐
│ TopBar (面包屑 + 操作按钮)               │
├─────────────────────────────────────────┤
│ ┌─────────┐ ┌─────────────────────────┐ │
│ │ Sidebar │ │ Main Content            │ │
│ │         │ │                         │ │
│ │ 导航菜单│ │ 数据表格/表单/图表      │ │
│ │         │ │                         │ │
│ └─────────┘ └─────────────────────────┘ │
└─────────────────────────────────────────┘
```

### 颜色方案
- **主色**: 蓝色 (#3B82F6)
- **成功**: 绿色 (#10B981)
- **警告**: 黄色 (#F59E0B)
- **危险**: 红色 (#EF4444)
- **预警级别**:
  - URGENT: 红色 (#DC2626)
  - CRITICAL: 橙色 (#EA580C)
  - WARNING: 黄色 (#CA8A04)
  - INFO: 蓝色 (#2563EB)

### 组件复用
- **DataTable** (通用表格组件，支持排序/筛选/分页)
- **StatCard** (统计卡片)
- **FilterBar** (筛选条件栏)
- **AlertBadge** (预警标签)
- **TrendChart** (趋势图表)

---

## 📝 开发任务分配

### Team 1: 智能采购管理前端

**文件结构**:
```
frontend/src/pages/purchase/
├── suggestions/
│   ├── SuggestionsList.tsx          # 采购建议列表
│   ├── SuggestionDetail.tsx         # 建议详情
│   └── components/
│       ├── SupplierRecommendation.tsx  # AI推荐供应商
│       └── ApprovalDialog.tsx          # 审批对话框
├── suppliers/
│   ├── PerformanceManagement.tsx    # 绩效管理
│   ├── SupplierRanking.tsx          # 供应商排名
│   └── components/
│       ├── PerformanceScoreCard.tsx    # 绩效评分卡
│       └── RankingTable.tsx            # 排名表格
├── orders/
│   ├── OrderTracking.tsx            # 订单跟踪
│   └── components/
│       └── TrackingTimeline.tsx        # 跟踪时间轴
└── quotations/
    ├── QuotationCompare.tsx         # 报价比价
    └── components/
        └── CompareTable.tsx            # 对比表格
```

**交付物**:
1. ✅ 6个页面组件
2. ✅ 10个子组件
3. ✅ API集成（10个接口）
4. ✅ TypeScript类型定义
5. ✅ 单元测试（主要组件）

---

### Team 2: 物料库存管理前端

**文件结构**:
```
frontend/src/pages/inventory/
├── overview/
│   ├── Dashboard.tsx                # 库存总览
│   └── components/
│       ├── StockSummaryCards.tsx       # 库存摘要卡片
│       └── QuickActions.tsx            # 快捷操作
├── stocks/
│   ├── StockList.tsx                # 库存列表
│   ├── TransactionHistory.tsx       # 交易记录
│   └── components/
│       ├── StockFilterBar.tsx          # 筛选条件
│       └── BatchTraceDialog.tsx        # 批次追溯
├── operations/
│   ├── MaterialReservation.tsx      # 物料预留
│   ├── MaterialIssue.tsx            # 领料
│   ├── MaterialReturn.tsx           # 退料
│   ├── StockTransfer.tsx            # 库存转移
│   └── components/
│       └── OperationForm.tsx           # 操作表单
├── stockCount/
│   ├── CountTasks.tsx               # 盘点任务
│   ├── CountDetails.tsx             # 盘点明细
│   └── components/
│       ├── CreateTaskDialog.tsx        # 创建任务
│       ├── CountInputForm.tsx          # 实盘录入
│       └── AdjustmentApproval.tsx      # 调整审批
└── analysis/
    ├── TurnoverAnalysis.tsx         # 周转率分析
    ├── AgingAnalysis.tsx            # 库龄分析
    └── components/
        ├── TurnoverChart.tsx           # 周转率图表
        └── AgingPieChart.tsx           # 库龄饼图
```

**交付物**:
1. ✅ 10个页面组件
2. ✅ 15个子组件
3. ✅ API集成（12个接口）
4. ✅ TypeScript类型定义
5. ✅ 单元测试（主要组件）

---

### Team 3: 智能缺料预警前端

**文件结构**:
```
frontend/src/pages/shortage/
├── dashboard/
│   ├── AlertDashboard.tsx           # 预警看板
│   └── components/
│       ├── AlertLevelCards.tsx         # 预警级别统计
│       ├── AlertList.tsx               # 预警列表
│       └── QuickScanButton.tsx         # 快速扫描
├── alerts/
│   ├── AlertDetail.tsx              # 预警详情
│   ├── SolutionRecommendation.tsx   # AI方案推荐
│   └── components/
│       ├── ImpactAnalysis.tsx          # 影响分析
│       ├── SolutionCard.tsx            # 方案卡片
│       └── SolutionCompare.tsx         # 方案对比
├── forecast/
│   ├── DemandForecast.tsx           # 需求预测
│   └── components/
│       ├── ForecastChart.tsx           # 预测曲线
│       ├── AlgorithmSelector.tsx       # 算法选择
│       └── ConfidenceInterval.tsx      # 置信区间
└── analysis/
    ├── TrendAnalysis.tsx            # 趋势分析
    ├── RootCauseAnalysis.tsx        # 根因分析
    └── components/
        ├── TrendLineChart.tsx          # 趋势折线图
        └── RootCauseBarChart.tsx       # 根因柱状图
```

**交付物**:
1. ✅ 7个页面组件
2. ✅ 12个子组件
3. ✅ API集成（10个接口）
4. ✅ TypeScript类型定义
5. ✅ 单元测试（主要组件）

---

## 🎨 UI设计要点

### 采购建议页面
```
┌────────────────────────────────────────────┐
│ 📋 采购建议列表                            │
├────────────────────────────────────────────┤
│ [筛选] 状态: [全部▼] 紧急程度: [全部▼]    │
│        日期: [开始日期] - [结束日期]       │
├────────────────────────────────────────────┤
│ 建议编号 | 物料 | 数量 | 紧急程度 | 状态  │
│ ─────────────────────────────────────────  │
│ PS001   | 不锈钢板 | 500 | 🔴 CRITICAL | 待审批 │
│          推荐供应商: 上海金属 (评分: 92)   │
│          [查看详情] [批准] [拒绝]          │
│ ─────────────────────────────────────────  │
│ PS002   | 铝合金   | 300 | 🟡 MEDIUM   | 已批准 │
│          推荐供应商: 广东铝材 (评分: 85)   │
│          [查看详情] [创建订单]             │
└────────────────────────────────────────────┘
```

### 缺料预警看板
```
┌────────────────────────────────────────────┐
│ 🚨 缺料预警看板                            │
├────────────────────────────────────────────┤
│ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐      │
│ │🔴紧急│ │🟠严重│ │🟡警告│ │🔵提示│      │
│ │  12  │ │  25  │ │  48  │ │  103 │      │
│ └──────┘ └──────┘ └──────┘ └──────┘      │
├────────────────────────────────────────────┤
│ [🔍 触发扫描] [📊 趋势分析] [📈 预测]    │
├────────────────────────────────────────────┤
│ 预警编号 | 物料 | 缺料量 | 级别 | 影响  │
│ ─────────────────────────────────────────  │
│ SA001   | 电机 | 50台  | 🔴 | 延期3天 │
│          风险评分: 89/100                  │
│          [查看详情] [AI方案] [处理]        │
└────────────────────────────────────────────┘
```

### 库存盘点页面
```
┌────────────────────────────────────────────┐
│ 📦 库存盘点任务                            │
├────────────────────────────────────────────┤
│ 任务编号: CT20260216001                    │
│ 盘点类型: 全盘  状态: 进行中              │
│ 盘点日期: 2026-02-20  负责人: 张三        │
├────────────────────────────────────────────┤
│ 物料编号 | 物料名称 | 账面数 | 实盘数 | 差异 │
│ ─────────────────────────────────────────  │
│ M001    | 不锈钢板 |  500  | [输入] |  -  │
│ M002    | 铝合金   |  300  |  295   | -5  │🟡
│ M003    | 电机     |  100  |  105   | +5  │🟢
│ ─────────────────────────────────────────  │
│ 总计: 16项  已录入: 2项  待录入: 14项      │
├────────────────────────────────────────────┤
│        [批量录入] [保存] [提交审批]        │
└────────────────────────────────────────────┘
```

---

## ✅ 验收标准

### 功能验收
- [ ] 所有页面正常渲染
- [ ] 32个API全部对接成功
- [ ] 表单验证正常
- [ ] 数据刷新正常
- [ ] 错误处理完善

### 性能验收
- [ ] 首屏加载时间 < 2秒
- [ ] 页面切换 < 500ms
- [ ] 表格渲染1000条数据 < 1秒
- [ ] 图表渲染流畅

### 响应式验证
- [ ] 桌面端 (1920x1080) 正常
- [ ] 平板端 (768x1024) 正常
- [ ] 移动端 (375x667) 正常

### 代码质量
- [ ] TypeScript 类型完整
- [ ] 无 ESLint 错误
- [ ] 组件注释完整
- [ ] 关键功能有单元测试

### 文档交付
- [ ] 每个Team交付组件文档
- [ ] API对接说明
- [ ] 快速开始指南

---

## 🚦 执行流程

### 1. 启动3个并行Agent Teams
```bash
# Team 1: 智能采购管理前端
sessions_spawn(
  task="开发智能采购管理系统前端界面（6个页面，对接10个API）",
  label="purchase-frontend"
)

# Team 2: 物料库存管理前端
sessions_spawn(
  task="开发物料库存管理系统前端界面（10个页面，对接12个API）",
  label="inventory-frontend"
)

# Team 3: 智能缺料预警前端
sessions_spawn(
  task="开发智能缺料预警系统前端界面（7个页面，对接10个API）",
  label="shortage-frontend"
)
```

### 2. 实时监控进度
- 每个Team预计 20-35分钟完成
- 同步执行，总耗时约 30-35分钟

### 3. 汇总交付成果
- 收集3个Team的代码和文档
- 集成测试
- 交付验收

---

## 📦 预期交付物

### 代码文件
- **23个页面组件**
- **37个子组件**
- **完整的TypeScript类型定义**
- **API客户端封装**
- **单元测试**

### 文档
- **组件文档** (每个主要组件的使用说明)
- **API对接文档** (32个接口的调用示例)
- **快速开始指南** (如何运行和部署)

### 预估代码量
- **~15,000 行** TypeScript/TSX代码
- **~60个文件**

---

## 🎯 成功标准

✅ **3个功能模块前端界面全部完成**  
✅ **32个API全部对接并测试通过**  
✅ **现代化UI，用户体验流畅**  
✅ **响应式设计，支持多端**  
✅ **代码质量高，文档完整**

---

**创建者**: M5  
**优先级**: P0 (高优先级)  
**预计完成时间**: 2026-02-16 (今天，约30-35分钟)

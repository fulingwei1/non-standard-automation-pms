# 销售模块未开发功能清单

## 文档生成时间
2025-01-15

## 概述

本文档列出了销售模块中尚未开发的功能，基于设计文档和已完成功能的对比分析。

---

## 一、审批工作流

### 1.1 多级审批流程
**状态**: ❌ 未开发

**需求**:
- 报价多级审批（销售经理 → 销售总监 → 财务）
- 合同多级审批（销售 → 法务 → 财务 → 总经理）
- 发票多级审批（财务 → 财务经理）

**当前实现**:
- ✅ 简单的审批接口（`/quotes/{id}/approve`）
- ❌ 没有审批流程配置
- ❌ 没有审批历史记录
- ❌ 没有审批人指定
- ❌ 没有审批路由规则

**需要开发**:
- 审批流程配置表
- 审批历史记录表
- 审批路由逻辑
- 审批通知功能

---

## 二、阶段门（Stage Gate）自动检查

### 2.1 G1: 线索 → 商机
**状态**: ⚠️ 部分实现

**需求**:
- 需求模板必填项检查（行业/产品对象/节拍/接口/现场约束/验收依据）
- 客户基本信息与联系人齐全检查

**当前实现**:
- ✅ 有阶段门提交接口
- ❌ 没有自动验证逻辑
- ❌ 没有必填项检查

### 2.2 G2: 商机 → 报价
**状态**: ❌ 未开发

**需求**:
- 预算范围、决策链、交付窗口、验收标准明确检查
- 技术可行性初评通过检查

**当前实现**:
- ❌ 没有自动检查逻辑

### 2.3 G3: 报价 → 合同
**状态**: ⚠️ 部分实现

**需求**:
- 成本拆解齐备检查
- 毛利率低于阈值自动预警
- 交期校验（关键物料交期 + 设计/装配/调试周期）
- 风险条款与边界条款检查

**当前实现**:
- ✅ 有报价审批接口
- ❌ 没有毛利率自动检查
- ❌ 没有交期校验
- ❌ 没有风险条款检查

### 2.4 G4: 合同 → 项目
**状态**: ⚠️ 部分实现

**需求**:
- 付款节点与可交付物绑定检查
- SOW/验收标准/BOM初版/里程碑基线冻结检查

**当前实现**:
- ✅ 有合同生成项目接口
- ❌ 没有自动检查逻辑
- ❌ 没有数据完整性验证

---

## 三、通知提醒功能

### 3.1 关键节点通知
**状态**: ❌ 未开发

**需求**:
- 阶段门到期提醒
- 报价过期提醒
- 合同到期提醒
- 收款逾期提醒
- 审批待处理提醒

**当前实现**:
- ❌ 没有通知系统集成
- ❌ 没有提醒功能

### 3.2 消息推送
**状态**: ❌ 未开发

**需求**:
- 审批消息推送
- 状态变更通知
- 逾期预警通知

---

## 四、数据导出功能

### 4.1 Excel导出
**状态**: ❌ 未开发

**需求**:
- 线索列表导出
- 商机列表导出
- 报价单导出
- 合同列表导出
- 发票列表导出
- 应收账款列表导出

**当前实现**:
- ❌ 没有导出功能

### 4.2 PDF导出
**状态**: ❌ 未开发

**需求**:
- 报价单PDF生成
- 合同PDF生成
- 发票PDF生成

**当前实现**:
- ❌ 没有PDF生成功能

---

## 五、收款计划与里程碑绑定

### 5.1 收款计划管理
**状态**: ❌ 未开发

**需求**:
- 合同签订后自动生成收款计划
- 收款计划与项目里程碑绑定
- 里程碑验收后自动触发开票

**当前实现**:
- ✅ 有合同生成项目接口
- ❌ 没有收款计划自动生成
- ❌ 没有与里程碑的绑定逻辑
- ❌ 没有自动开票触发

**需要开发**:
- 收款计划表（已存在payments表，需要完善）
- 里程碑与收款节点关联
- 自动开票逻辑

---

## 六、前端页面缺失

### 6.1 审批相关页面
**状态**: ⚠️ 部分存在

**缺失页面**:
- ❌ 报价审批页面（统一审批中心）
- ⚠️ 合同审批页面（ContractApproval.jsx 存在但可能未完善）
- ❌ 发票审批页面
- ❌ 审批历史查看页面

### 6.2 工作台/看板
**状态**: ⚠️ 部分存在

**缺失页面**:
- ⚠️ 销售工作台（SalesWorkstation.jsx 存在但可能未完善）
- ⚠️ 销售看板（OpportunityBoard.jsx 存在但可能未完善）
- ❌ 销售漏斗可视化页面（SalesFunnel.jsx 存在但可能未完善）

### 6.3 团队管理
**状态**: ⚠️ 部分存在

**缺失页面**:
- ⚠️ 销售团队管理（SalesTeam.jsx 存在但可能未完善）
- ❌ 销售业绩排名
- ❌ 销售目标管理

---

## 七、高级功能

### 7.1 报价模板管理
**状态**: ❌ 未开发

**需求**:
- 报价模板创建
- 报价模板应用
- 报价模板版本管理

**当前实现**:
- ❌ 没有模板管理功能

### 7.2 合同模板管理
**状态**: ❌ 未开发

**需求**:
- 合同模板创建
- 合同模板应用
- 合同条款库管理

**当前实现**:
- ❌ 没有模板管理功能

### 7.3 客户360视图
**状态**: ❌ 未开发

**需求**:
- 客户基本信息
- 历史订单
- 历史报价
- 历史合同
- 历史发票
- 回款记录
- 项目交付记录

**当前实现**:
- ❌ 没有客户360视图页面

### 7.4 销售预测
**状态**: ⚠️ 部分实现

**需求**:
- 基于历史数据的销售预测
- 商机赢单概率预测
- 收入预测模型

**当前实现**:
- ✅ 有收入预测接口（`/statistics/revenue-forecast`）
- ❌ 预测模型较简单
- ❌ 没有机器学习预测

### 7.5 CPQ（配置化报价）
**状态**: ❌ 未开发

**需求**:
- 产品配置器
- 价格计算引擎
- 折扣管理
- 报价规则引擎

**当前实现**:
- ❌ 没有CPQ功能

---

## 八、权限控制细化

### 8.1 数据权限
**状态**: ⚠️ 部分实现

**需求**:
- 销售只能看到自己的线索/商机
- 销售经理可以看到团队的数据
- 销售总监可以看到所有数据
- 财务可以看到发票和收款数据

**当前实现**:
- ✅ 有基本的权限控制
- ❌ 没有细粒度的数据权限过滤

### 8.2 操作权限
**状态**: ⚠️ 部分实现

**需求**:
- 不同角色有不同的操作权限
- 审批权限控制
- 删除权限控制

**当前实现**:
- ✅ 有基本的操作权限控制
- ❌ 权限矩阵可能不完整

---

## 九、集成功能

### 9.1 与项目模块集成
**状态**: ⚠️ 部分实现

**需求**:
- 合同生成项目（✅ 已实现）
- 项目里程碑与收款节点绑定（❌ 未实现）
- 项目进度影响收款计划（❌ 未实现）

### 9.2 与财务模块集成
**状态**: ⚠️ 部分实现

**需求**:
- 发票与财务系统对接（❌ 未实现）
- 收款与财务系统对接（❌ 未实现）

### 9.3 与CRM集成
**状态**: ❌ 未开发

**需求**:
- 客户信息同步
- 商机同步
- 活动记录同步

---

## 十、报表增强

### 10.1 自定义报表
**状态**: ❌ 未开发

**需求**:
- 用户自定义报表字段
- 自定义筛选条件
- 报表保存和分享

### 10.2 高级分析
**状态**: ⚠️ 部分实现

**需求**:
- 销售趋势分析（❌ 未实现）
- 客户价值分析（❌ 未实现）
- 产品线分析（❌ 未实现）
- 区域分析（❌ 未实现）

**当前实现**:
- ✅ 有基础统计报表
- ❌ 没有高级分析功能

---

## 十一、移动端支持

### 11.1 移动端页面
**状态**: ❌ 未开发

**需求**:
- 移动端适配
- 移动端审批
- 移动端查看

---

## 十二、优先级建议

### 高优先级（核心功能）
1. **审批工作流** - 多级审批流程
2. **阶段门自动检查** - G1-G4的自动验证
3. **收款计划与里程碑绑定** - 自动生成和触发
4. **通知提醒** - 关键节点提醒

### 中优先级（重要功能）
5. **数据导出** - Excel/PDF导出
6. **客户360视图** - 客户全貌展示
7. **审批相关页面** - 统一审批中心
8. **权限控制细化** - 数据权限和操作权限

### 低优先级（增强功能）
9. **报价/合同模板管理** - 模板功能
10. **CPQ配置化报价** - 高级报价功能
11. **销售预测增强** - 机器学习预测
12. **移动端支持** - 移动端适配

---

## 十三、总结

### 已完成功能
- ✅ 基础CRUD操作（线索、商机、报价、合同、发票）
- ✅ 基础业务流程（转化、门控、审批、签订、开票、收款）
- ✅ 基础统计报表
- ✅ 前端页面（管理页面、统计页面）

### 未完成功能
- ❌ 多级审批工作流
- ❌ 阶段门自动检查逻辑
- ❌ 通知提醒系统
- ❌ 数据导出功能
- ❌ 收款计划与里程碑绑定
- ❌ 客户360视图
- ❌ 模板管理功能
- ❌ 高级分析报表
- ❌ 移动端支持

### 建议开发顺序
1. 审批工作流（影响业务流程）
2. 阶段门自动检查（提升数据质量）
3. 收款计划与里程碑绑定（核心业务需求）
4. 通知提醒（提升用户体验）
5. 数据导出（常用功能）
6. 其他增强功能

---

**文档版本**: v1.0  
**最后更新**: 2025-01-15




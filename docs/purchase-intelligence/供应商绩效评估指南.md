# 供应商绩效评估指南

## 一、评估体系概述

### 1.1 评估目的

- **客观衡量**: 用数据说话,客观评价供应商表现
- **持续改进**: 识别供应商的优势和短板,推动改进
- **风险管控**: 及时发现供应商风险,优化供应商结构
- **决策支持**: 为采购决策提供量化依据

### 1.2 评估周期

- **评估频率**: 每月1日自动触发上月评估
- **评估期间**: 自然月 (如 2026-01 代表1月1日-1月31日)
- **发布时间**: 每月3日前完成评估并发布结果

### 1.3 评估范围

- **物料供应商**: vendor_type = 'MATERIAL'
- **活跃供应商**: status = 'ACTIVE'
- **有交易记录**: 评估期间内有采购订单

## 二、评估指标体系

### 2.1 指标架构

```
供应商绩效评估 (100分)
│
├── 准时交货率 (30%)
│   ├── 准时订单数
│   ├── 延迟订单数
│   └── 平均延迟天数
│
├── 质量合格率 (30%)
│   ├── 收货总数
│   ├── 合格数量
│   └── 不合格数量
│
├── 价格竞争力 (20%)
│   ├── 供应商平均价格
│   ├── 市场平均价格
│   └── 价格偏离度
│
└── 响应速度 (20%)
    ├── 平均响应时间
    └── 响应及时率
```

### 2.2 指标详解

#### 2.2.1 准时交货率 (默认权重 30%)

**定义**: 在承诺交期内完成交货的订单占比

**计算公式**:
```
准时交货率 = 准时订单数 / 总交货订单数 × 100%
```

**判定标准**:
- 收货日期 ≤ 承诺交期: 准时
- 收货日期 > 承诺交期: 延迟

**数据来源**:
- 采购订单表 (purchase_orders): promised_date, required_date
- 收货单表 (goods_receipts): receipt_date

**评分标准**:
| 准时交货率 | 评分 | 等级 |
|-----------|------|------|
| ≥ 95% | 95-100 | 优秀 |
| 90-94.9% | 90-94 | 良好 |
| 85-89.9% | 85-89 | 合格 |
| 80-84.9% | 80-84 | 改进 |
| < 80% | < 80 | 警告 |

**辅助指标**:
- **平均延迟天数**: 延迟订单的平均延迟时间
- **最大延迟天数**: 单次最严重延迟

#### 2.2.2 质量合格率 (默认权重 30%)

**定义**: 收货质检合格的物料数量占比

**计算公式**:
```
质量合格率 = 合格数量 / 收货总数 × 100%
```

**数据来源**:
- 收货明细表 (goods_receipt_items):
  - received_qty: 实收数量
  - qualified_qty: 合格数量
  - rejected_qty: 不合格数量

**评分标准**:
| 质量合格率 | 评分 | 等级 |
|-----------|------|------|
| ≥ 99% | 99-100 | 优秀 |
| 97-98.9% | 97-98 | 良好 |
| 95-96.9% | 95-96 | 合格 |
| 90-94.9% | 90-94 | 改进 |
| < 90% | < 90 | 警告 |

**质量问题分类**:
- 外观不良
- 尺寸偏差
- 性能不达标
- 包装破损
- 其他

#### 2.2.3 价格竞争力 (默认权重 20%)

**定义**: 相对于市场价格的竞争力评分

**计算步骤**:

1. 计算供应商平均价格:
```
供应商平均价 = Σ(订单明细单价) / 订单明细数量
```

2. 计算市场平均价格:
```
市场平均价 = Σ(所有供应商同期平均价) / 供应商数量
```

3. 计算价格偏离度:
```
价格偏离度 = (供应商平均价 - 市场平均价) / 市场平均价 × 100%
```

4. 竞争力评分:
| 价格偏离度 | 评分 | 说明 |
|-----------|------|------|
| ≤ -20% | 100 | 显著低于市场价 |
| -10% ~ -20% | 90 | 明显低于市场价 |
| 0% ~ -10% | 80 | 略低于市场价 |
| 0% ~ 10% | 60 | 略高于市场价 |
| 10% ~ 20% | 40 | 明显高于市场价 |
| > 20% | 20 | 显著高于市场价 |

**注意事项**:
- 仅对比相同物料的价格
- 考虑季节性价格波动
- 排除促销、清仓等特殊订单

#### 2.2.4 响应速度 (默认权重 20%)

**定义**: 供应商对采购需求的响应及时性

**计算方式**:
```
平均响应时间 = Σ(订单确认时间 - 订单提交时间) / 订单数
```

**数据来源**:
- 采购订单表:
  - submitted_at: 提交时间
  - approved_at: 审批/确认时间

**评分标准**:
| 平均响应时间 | 评分 | 等级 |
|-------------|------|------|
| ≤ 4小时 | 100 | 优秀 |
| 4-8小时 | 90 | 良好 |
| 8-24小时 | 80 | 合格 |
| 24-48小时 | 60 | 改进 |
| > 48小时 | < 60 | 警告 |

## 三、评分计算

### 3.1 综合评分公式

```
综合评分 = Σ(各维度得分 × 权重)

= 准时交货率 × w1 +
  质量合格率 × w2 +
  价格竞争力 × w3 +
  响应速度 × w4
```

### 3.2 默认权重配置

```json
{
  "on_time_delivery": 30,
  "quality": 30,
  "price": 20,
  "response": 20
}
```

**权重调整原则**:
- 总和必须为 100
- 根据行业特点调整 (如精密制造业可提高质量权重)
- 根据企业策略调整 (如成本优先可提高价格权重)

### 3.3 评级标准

| 综合评分 | 等级 | 说明 | 建议措施 |
|---------|------|------|---------|
| ≥ 90 | A+ | 卓越供应商 | 战略合作伙伴,优先采购 |
| 80-89 | A | 优秀供应商 | 核心供应商,增加订单 |
| 70-79 | B | 合格供应商 | 保持合作,辅导改进 |
| 60-69 | C | 待改进供应商 | 限制订单,要求改进计划 |
| < 60 | D | 不合格供应商 | 暂停合作,寻找替代 |

## 四、评估流程

### 4.1 自动评估流程

```
Step 1: 触发评估
  - 定时任务 (每月1日 00:00)
  - 手动触发 (API)

Step 2: 数据采集
  - 查询评估期间订单数据
  - 查询收货数据
  - 查询质检数据

Step 3: 指标计算
  - 准时交货率
  - 质量合格率
  - 价格竞争力
  - 响应速度

Step 4: 综合评分
  - 加权计算
  - 等级判定

Step 5: 保存结果
  - 写入 supplier_performances 表
  - 状态: CALCULATED

Step 6: 审核发布 (可选)
  - 人工审核
  - 状态: REVIEWED → PUBLISHED
```

### 4.2 手动评估

**API 调用**:
```bash
POST /api/v1/purchase/suppliers/{supplier_id}/evaluate

{
  "supplier_id": 123,
  "evaluation_period": "2026-01",
  "weight_config": {
    "on_time_delivery": 30,
    "quality": 30,
    "price": 20,
    "response": 20
  }
}
```

**适用场景**:
- 新供应商初次评估
- 重大事件后重新评估
- 权重调整后重算

## 五、结果应用

### 5.1 供应商排名

**查询 API**:
```bash
GET /api/v1/purchase/suppliers/ranking?evaluation_period=2026-01&limit=20
```

**排名规则**:
- 按综合评分降序排列
- 相同评分按订单金额降序
- 展示 TOP 20

**排名用途**:
- 优秀供应商表彰
- 采购优先级参考
- 年度供应商大会

### 5.2 趋势分析

**对比维度**:
- 月度趋势: 同一供应商多月对比
- 行业对比: 同类型供应商对比
- 指标对比: 单一指标多供应商对比

**预警机制**:
- 评分连续3个月下降 → 橙色预警
- 评分低于60分 → 红色预警
- 单一指标低于50分 → 黄色预警

### 5.3 决策应用

#### 5.3.1 采购建议推荐

```python
# AI推荐供应商时,绩效评分占40%权重
supplier_score = (
    performance_score * 0.40 +
    price_score * 0.30 +
    delivery_score * 0.20 +
    history_score * 0.10
)
```

#### 5.3.2 供应商分级管理

| 等级 | 订单优先级 | 付款条件 | 质量抽检 | 审核周期 |
|------|----------|---------|---------|---------|
| A+ | 最高 | 优惠 | 免检 | 年度 |
| A | 高 | 正常 | 抽检 | 半年 |
| B | 中 | 正常 | 全检 | 季度 |
| C | 低 | 预付 | 全检 | 月度 |
| D | 暂停 | - | - | - |

#### 5.3.3 供应商开发

- **A+供应商**: 战略合作协议,长期订单
- **A供应商**: 增加采购份额,培养为战略伙伴
- **B供应商**: 辅导改进,提供培训支持
- **C供应商**: 发出改进通知,限期整改
- **D供应商**: 暂停合作,启动供应商更换

## 六、特殊情况处理

### 6.1 新供应商评估

**首次评估**: 评估期间首次合作的供应商

**处理方式**:
- 订单数 < 3: 不参与评分排名
- 订单数 ≥ 3: 正常评估,标注"新供应商"

**默认分**: 60分 (及格分)

### 6.2 无订单月份

**场景**: 某月无采购订单

**处理方式**:
- 不生成绩效记录
- 上月评分继续有效
- 连续3个月无订单 → 标记为"休眠供应商"

### 6.3 数据缺失

**场景**: 质检数据缺失、物流信息缺失等

**处理方式**:
- 质量数据缺失: 该维度给予60分
- 物流数据缺失: 仅计算有数据的维度
- 重新调整权重,确保总和为100

### 6.4 异常值处理

**异常情况**:
- 单次严重延迟 (>30天)
- 单批次大量不合格
- 价格异常波动

**处理原则**:
- 记录异常事件
- 人工审核确认
- 必要时剔除异常数据后重算

## 七、持续改进

### 7.1 供应商沟通

**月度绩效会议**:
- 时间: 每月5日前
- 对象: C/D级供应商
- 内容: 问题分析、改进计划

**季度绩效回顾**:
- 对象: A/B级供应商
- 内容: 表现认可、优化建议

### 7.2 改进计划模板

```
供应商改进计划

供应商: XXX
评估期间: 2026-01
当前评分: 65分 (C级)

主要问题:
1. 准时交货率仅75% (低于标准)
2. 质量合格率92% (需改进)

改进目标:
1. 准时交货率提升至90%以上
2. 质量合格率提升至95%以上

改进措施:
1. 加强生产计划管理
2. 建立质量预警机制
3. 增加出货前检验

完成时间: 2026-02-28

责任人: XXX
监督人: XXX
```

### 7.3 评估体系优化

**优化周期**: 每季度

**优化内容**:
- 权重配置调整
- 评分标准校准
- 新增评估指标
- 算法优化

## 八、报表示例

### 8.1 供应商绩效报告

```
========================================
       供应商绩效评估报告
========================================

供应商: 深圳XX电子有限公司 (SUP001)
评估期间: 2026年1月
评估日期: 2026-02-01

----------------------------------------
一、综合评分
----------------------------------------
综合评分: 92.50 分
评级: A+
排名: 2 / 50

----------------------------------------
二、分项得分
----------------------------------------
准时交货率: 95.0% (评分: 95.0)
  准时订单: 19 单
  延迟订单: 1 单
  平均延迟: 1.0 天

质量合格率: 98.5% (评分: 98.5)
  收货总数: 10,000 件
  合格数量: 9,850 件
  不合格数: 150 件

价格竞争力: 评分 85.0
  平均价格: ¥95.00
  市场价格: ¥100.00
  价格优势: -5.0%

响应速度: 评分 90.0
  平均响应: 6.0 小时
  
----------------------------------------
三、月度对比
----------------------------------------
2025-12: 90.0 分 (A)
2026-01: 92.5 分 (A+) ↑

----------------------------------------
四、改进建议
----------------------------------------
1. 继续保持优秀表现
2. 关注延迟订单,力争100%准时
3. 持续优化质量,目标99%以上

----------------------------------------
评估人: 采购部
审核人: XXX
发布日期: 2026-02-03
========================================
```

## 九、常见问题 (FAQ)

### Q1: 为什么我的供应商评分突然下降?

**A**: 可能原因:
1. 本月有延迟或质量问题
2. 市场价格下降,您的价格相对偏高
3. 评估权重调整
4. 建议查看详细数据,定位问题

### Q2: 如何提高价格竞争力评分?

**A**: 
1. 降低报价 (在合理范围内)
2. 提供批量折扣
3. 优化成本结构
4. 价格评分仅占20%,提升其他维度也可提高总分

### Q3: 新供应商如何参与评分?

**A**:
1. 首次订单完成后即可评估
2. 建议至少3单后参与排名
3. 初期给予60分基础分

### Q4: 评分权重可以调整吗?

**A**:
1. 可以调整
2. 需采购经理以上权限
3. 调整后对历史数据不影响
4. 建议按行业特点定制

### Q5: 评分数据保留多久?

**A**:
1. 历史评分永久保留
2. 可查询任意历史期间
3. 用于趋势分析和年度评优

---

**文档版本**: v1.0  
**编写日期**: 2026-02-16  
**审核人**: 采购部/质量部  
**适用范围**: 全体采购人员、供应商管理人员

# æµ‹è¯•è¦†ç›–ç‡æå‡è®¡åˆ’

## ğŸ“Š å½“å‰çŠ¶å†µåˆ†æ

### 1.1 æ•´ä½“è¦†ç›–ç‡ç°çŠ¶

| æ¨¡å— | æ–‡ä»¶æ•° | æ€»è¯­å¥ | å·²è¦†ç›– | æœªè¦†ç›– | å½“å‰è¦†ç›–ç‡ | ç›®æ ‡è¦†ç›–ç‡ | å·®è· |
|------|--------|--------|--------|--------|----------|----------|------|
| **API Endpoints** | 511 | 35,056 | 10,321 | 24,735 | 29.4% | â‰¥80% | -50.6% |
| **Services** | 309 | 21,067 | 4,398 | 16,669 | **20.9%** | â‰¥80% | -59.1% |
| **Utils** | 34 | 2,071 | 822 | 1,249 | 39.7% | â‰¥90% | -50.3% |
| **Models** | 116 | 9,167 | 8,787 | 380 | 95.9% | 100% | -4.1% |
| **Core** | 16 | 669 | 470 | 199 | 70.3% | â‰¥80% | -9.7% |
| **Schemas** | 77 | 8,321 | 8,289 | 32 | 99.6% | 100% | -0.4% |
| **API Layer** | 2 | 111 | 110 | 1 | 99.1% | 100% | -0.9% |
| **æ€»è®¡** | 1,065 | 76,668 | 32,258 | 44,410 | **42.1%** | **â‰¥80%** | **-37.9%** |

### 1.2 Services å±‚è¯¦ç»†åˆ†æ

| åˆ†ç±» | æ–‡ä»¶æ•° | çŠ¶æ€ | è¯´æ˜ |
|------|--------|------|------|
| **æœ‰æµ‹è¯•çš„æ¨¡å—** | 105 | âœ… | å·²ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œè¦†ç›–ç‡å¾…è¯„ä¼° |
| **ä¸»ç›®å½•æ— æµ‹è¯•** | 44 | âŒ | `app/services/` ç›®å½•ä¸‹çš„æ ¸å¿ƒæœåŠ¡ |
| **å­ç›®å½•æ— æµ‹è¯•** | 160 | âŒ | å­ç›®å½•ä¸‹çš„åŠŸèƒ½æ¨¡å— |
| **å®Œå…¨æœªè¦†ç›–** | 122 | ğŸ”´ | **é‡ç‚¹å…³æ³¨çš„122ä¸ªé«˜ä¼˜å…ˆçº§æ¨¡å—** |
| **å…¶ä»–æœªè¦†ç›–** | 82 | âš ï¸ | ä½ä¼˜å…ˆçº§æˆ–è¾…åŠ©æ¨¡å— |

### 1.3 å…³é”®å‘ç°

1. **Services å±‚æ˜¯è¦†ç›–ç‡ç“¶é¢ˆ**
   - ä»… 20.9% è¦†ç›–ç‡
   - æœªè¦†ç›–è¯­å¥ï¼š16,669 æ¡ï¼ˆå æ€»æœªè¦†ç›–çš„ 37.5%ï¼‰

2. **API Endpoints åŒæ ·ä¸¥é‡ä¸è¶³**
   - ä»… 29.4% è¦†ç›–ç‡
   - æœªè¦†ç›–è¯­å¥ï¼š24,735 æ¡ï¼ˆå æ€»æœªè¦†ç›–çš„ 55.7%ï¼‰

3. **Models å’Œ Schemas æ¥è¿‘å®Œå–„**
   - Models: 95.9% â†’ 100%
   - Schemas: 99.6% â†’ 100%

4. **122 ä¸ªå®Œå…¨æœªè¦†ç›–çš„æœåŠ¡æ¨¡å—** æ˜¯å½“å‰æœ€ç´§è¿«çš„ä»»åŠ¡

---

## ğŸ¯ è¦†ç›–ç‡æå‡ç›®æ ‡

### 2.1 æ€»ä½“ç›®æ ‡

- **å½“å‰è¦†ç›–ç‡**: 42.1% (32,258/76,668 statements)
- **ç›®æ ‡è¦†ç›–ç‡**: â‰¥80% (61,334/76,668 statements)
- **éœ€è¦è¦†ç›–**: +29,076 è¯­å¥

### 2.2 åˆ†é˜¶æ®µç›®æ ‡

| é˜¶æ®µ | æ—¶é—´ | è¦†ç›–ç‡ç›®æ ‡ | é‡ç‚¹å…³æ³¨ | éœ€è¦†ç›–è¯­å¥ |
|------|------|-----------|---------|-----------|
| **Phase 0** | Week 1 | 42.1% â†’ 50% | é«˜ä¼˜å…ˆçº§ Services | +6,056 |
| **Phase 1** | Week 2-3 | 50% â†’ 65% | Services æ ¸å¿ƒ | +11,505 |
| **Phase 2** | Week 4-5 | 65% â†’ 75% | API Endpoints | +7,667 |
| **Phase 3** | Week 6 | 75% â†’ 80% | Utils + å®Œå–„ | +3,833 |

---

## ğŸ“‹ ä¼˜å…ˆçº§åˆ’åˆ†

### 3.1 P0 - æ ¸å¿ƒä¸šåŠ¡æœåŠ¡ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰

#### è¯´æ˜
- é¡¹ç›®ç”Ÿå‘½å‘¨æœŸç®¡ç†
- å¥åº·åº¦è®¡ç®—
- æˆæœ¬ç®¡ç†
- éªŒæ”¶ç®¡ç†
- é‡‡è´­ç®¡ç†

#### æ¨¡å—åˆ—è¡¨ï¼ˆ30ä¸ªï¼‰

| åºå· | æ¨¡å—è·¯å¾„ | å¤æ‚åº¦ | ä¸šåŠ¡å…³é”®æ€§ | é¢„è®¡å·¥ä½œé‡ |
|------|---------|--------|----------|----------|
| 1 | `health_calculator.py` | é«˜ | ğŸ”´ æ ¸å¿ƒå¥åº·åº¦ | 2å¤© |
| 2 | `project_evaluation_service.py` | é«˜ | ğŸ”´ é¡¹ç›®è¯„ä¼° | 2å¤© |
| 3 | `cost_analysis_service.py` | ä¸­ | ğŸ”´ æˆæœ¬åˆ†æ | 1å¤© |
| 4 | `cost_allocation_service.py` | ä¸­ | ğŸ”´ æˆæœ¬åˆ†æ‘Š | 1å¤© |
| 5 | `acceptance_completion_service.py` | ä¸­ | ğŸ”´ éªŒæ”¶å®Œæˆ | 1å¤© |
| 6 | `acceptance_report_service.py` | ä¸­ | ğŸ”´ éªŒæ”¶æŠ¥å‘Š | 1å¤© |
| 7 | `acceptance_bonus_service.py` | ä¸­ | ğŸ”´ éªŒæ”¶å¥–é‡‘ | 1å¤© |
| 8 | `alert_efficiency_service.py` | ä¸­ | ğŸ”´ é¢„è­¦æ•ˆç‡ | 1å¤© |
| 9 | `alert_response_service.py` | ä¸­ | ğŸ”´ é¢„è­¦å“åº” | 1å¤© |
| 10 | `bonus_distribution_service.py` | é«˜ | ğŸ”´ å¥–é‡‘åˆ†é… | 2å¤© |
| 11 | `budget_analysis_service.py` | ä¸­ | ğŸ”´ é¢„ç®—åˆ†æ | 1å¤© |
| 12 | `budget_execution_check_service.py` | ä¸­ | ğŸ”´ é¢„ç®—æ‰§è¡Œ | 1å¤© |
| 13 | `pipeline_health_service.py` | é«˜ | ğŸ”´ å…¨é“¾æ¡å¥åº·åº¦ | 2å¤© |
| 14 | `project_dashboard_service.py` | ä¸­ | ğŸ”´ é¡¹ç›®ä»ªè¡¨ç›˜ | 1å¤© |
| 15 | `project_timeline_service.py` | ä¸­ | ğŸ”´ é¡¹ç›®æ—¶é—´çº¿ | 1å¤© |
| 16 | `stage_advance_service.py` | ä¸­ | ğŸ”´ é˜¶æ®µæ¨è¿› | 1å¤© |
| 17 | `stage_transition_service.py` | ä¸­ | ğŸ”´ é˜¶æ®µè½¬æ¢ | 1å¤© |
| 18 | `stage_transition_checks.py` | ä¸­ | ğŸ”´ é˜¶æ®µæ£€æŸ¥ | 1å¤© |
| 19 | `status_transition_service.py` | ä¸­ | ğŸ”´ çŠ¶æ€è½¬æ¢ | 1å¤© |
| 20 | `collaboration_rating_service.py` | ä¸­ | ğŸ”´ åä½œè¯„åˆ† | 1å¤© |
| 21 | `collaboration_service.py` | ä¸­ | ğŸ”´ åä½œç®¡ç† | 1å¤© |
| 22 | `work_log_service.py` | é«˜ | ğŸ”´ å·¥ä½œæ—¥å¿— | 2å¤© |
| 23 | `timesheet_report_service.py` | é«˜ | ğŸ”´ å·¥æ—¶æŠ¥è¡¨ | 2å¤© |
| 24 | `timesheet_aggregation_service.py` | ä¸­ | ğŸ”´ å·¥æ—¶æ±‡æ€» | 1å¤© |
| 25 | `performance_collector/aggregator.py` | é«˜ | ğŸ”´ ç»©æ•ˆæ±‡æ€» | 2å¤© |
| 26 | `performance_collector/project_collector.py` | ä¸­ | ğŸ”´ é¡¹ç›®ç»©æ•ˆ | 1å¤© |
| 27 | `performance_collector/work_log_collector.py` | ä¸­ | ğŸ”´ å·¥ä½œæ—¥å¿—ç»©æ•ˆ | 1å¤© |
| 28 | `notification_service.py` | é«˜ | ğŸ”´ é€šçŸ¥æœåŠ¡ | 2å¤© |
| 29 | `notification_dispatcher.py` | ä¸­ | ğŸ”´ é€šçŸ¥åˆ†å‘ | 1å¤© |
| 30 | `purchase/purchase_service.py` | ä¸­ | ğŸ”´ é‡‡è´­æœåŠ¡ | 1å¤© |

**å°è®¡**: 30ä¸ªæ¨¡å—ï¼Œé¢„è®¡å·¥ä½œé‡ **35å¤©**

---

### 3.2 P1 - å®¡æ‰¹æµç¨‹ä¸å·¥ä½œæµï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

#### è¯´æ˜
- å®¡æ‰¹å¼•æ“
- å·¥ä½œæµç®¡ç†
- ECN å®¡æ‰¹
- åˆåŒå®¡æ‰¹

#### æ¨¡å—åˆ—è¡¨ï¼ˆ20ä¸ªï¼‰

| åºå· | æ¨¡å—è·¯å¾„ | å¤æ‚åº¦ | è¯´æ˜ | é¢„è®¡å·¥ä½œé‡ |
|------|---------|--------|------|----------|
| 1 | `approval_engine/engine/core.py` | é«˜ | å®¡æ‰¹å¼•æ“æ ¸å¿ƒ | 2å¤© |
| 2 | `approval_engine/engine/submit.py` | é«˜ | å®¡æ‰¹æäº¤ | 1å¤© |
| 3 | `approval_engine/engine/approve.py` | é«˜ | å®¡æ‰¹é€šè¿‡ | 1å¤© |
| 4 | `approval_engine/engine/query.py` | é«˜ | å®¡æ‰¹æŸ¥è¯¢ | 1å¤© |
| 5 | `approval_engine/router.py` | é«˜ | å®¡æ‰¹è·¯ç”± | 2å¤© |
| 6 | `approval_engine/executor.py` | é«˜ | å®¡æ‰¹æ‰§è¡Œå™¨ | 1å¤© |
| 7 | `approval_workflow/core.py` | é«˜ | å·¥ä½œæµæ ¸å¿ƒ | 2å¤© |
| 8 | `approval_workflow/approval_actions.py` | ä¸­ | å®¡æ‰¹åŠ¨ä½œ | 1å¤© |
| 9 | `approval_workflow/workflow_start.py` | ä¸­ | å·¥ä½œæµå¯åŠ¨ | 1å¤© |
| 10 | `approval_workflow/helpers.py` | ä¸­ | å·¥ä½œæµè¾…åŠ© | 1å¤© |
| 11 | `approval_engine/adapters/ecn.py` | ä¸­ | ECNé€‚é…å™¨ | 1å¤© |
| 12 | `approval_engine/adapters/contract.py` | ä¸­ | åˆåŒé€‚é…å™¨ | 1å¤© |
| 13 | `approval_engine/adapters/project.py` | ä¸­ | é¡¹ç›®é€‚é…å™¨ | 1å¤© |
| 14 | `ecn_scheduler.py` | é«˜ | ECNè°ƒåº¦å™¨ | 2å¤© |
| 15 | `ecn_auto_assign_service.py` | é«˜ | ECNè‡ªåŠ¨åˆ†é… | 1å¤© |
| 16 | `ecn_notification/base.py` | ä¸­ | é€šçŸ¥åŸºç±» | 0.5å¤© |
| 17 | `ecn_notification/ecn_notifications.py` | ä¸­ | ECNé€šçŸ¥ | 1å¤© |
| 18 | `ecn_notification/evaluation_notifications.py` | ä¸­ | è¯„ä¼°é€šçŸ¥ | 1å¤© |
| 19 | `ecn_notification/approval_notifications.py` | ä¸­ | å®¡æ‰¹é€šçŸ¥ | 1å¤© |
| 20 | `stage_instance/core.py` | é«˜ | é˜¶æ®µå®ä¾‹æ ¸å¿ƒ | 2å¤© |

**å°è®¡**: 20ä¸ªæ¨¡å—ï¼Œé¢„è®¡å·¥ä½œé‡ **23å¤©**

---

### 3.3 P2 - æ•°æ®å¯¼å…¥å¯¼å‡ºï¼ˆä¸­é«˜ä¼˜å…ˆçº§ï¼‰

#### è¯´æ˜
- Excel å¯¼å…¥å¯¼å‡º
- PDF æŠ¥è¡¨
- PPT ç”Ÿæˆ
- æ•°æ®åŒæ­¥

#### æ¨¡å—åˆ—è¡¨ï¼ˆ18ä¸ªï¼‰

| åºå· | æ¨¡å—è·¯å¾„ | å¤æ‚åº¦ | è¯´æ˜ | é¢„è®¡å·¥ä½œé‡ |
|------|---------|--------|------|----------|
| 1 | `excel_export_service.py` | é«˜ | Excelå¯¼å‡º | 2å¤© |
| 2 | `pdf_export_service.py` | é«˜ | PDFå¯¼å‡º | 2å¤© |
| 3 | `pdf_content_builders.py` | ä¸­ | PDFæ„å»ºå™¨ | 1å¤© |
| 4 | `ppt_generator/generator.py` | é«˜ | PPTç”Ÿæˆå™¨ | 2å¤© |
| 5 | `ppt_generator/content_builder.py` | ä¸­ | å†…å®¹æ„å»º | 1å¤© |
| 6 | `ppt_generator/table_builder.py` | ä¸­ | è¡¨æ ¼æ„å»º | 1å¤© |
| 7 | `docx_content_builders.py` | ä¸­ | DOCXæ„å»ºå™¨ | 1å¤© |
| 8 | `unified_import/unified_importer.py` | é«˜ | ç»Ÿä¸€å¯¼å…¥ | 2å¤© |
| 9 | `unified_import/user_importer.py` | ä¸­ | ç”¨æˆ·å¯¼å…¥ | 1å¤© |
| 10 | `unified_import/material_importer.py` | ä¸­ | ç‰©æ–™å¯¼å…¥ | 1å¤© |
| 11 | `unified_import/bom_importer.py` | ä¸­ | BOMå¯¼å…¥ | 1å¤© |
| 12 | `unified_import/task_importer.py` | ä¸­ | ä»»åŠ¡å¯¼å…¥ | 1å¤© |
| 13 | `unified_import/timesheet_importer.py` | ä¸­ | å·¥æ—¶å¯¼å…¥ | 1å¤© |
| 14 | `employee_import_service.py` | ä¸­ | å‘˜å·¥å¯¼å…¥ | 1å¤© |
| 15 | `hr_profile_import_service.py` | ä¸­ | HRèµ„æ–™å¯¼å…¥ | 1å¤© |
| 16 | `data_sync_service.py` | é«˜ | æ•°æ®åŒæ­¥ | 2å¤© |
| 17 | `user_sync_service.py` | ä¸­ | ç”¨æˆ·åŒæ­¥ | 1å¤© |
| 18 | `meeting_report_docx_service.py` | é«˜ | ä¼šè®®æŠ¥å‘Š | 2å¤© |

**å°è®¡**: 18ä¸ªæ¨¡å—ï¼Œé¢„è®¡å·¥ä½œé‡ **24å¤©**

---

### 3.4 P3 - çŸ­ç¼ºä¸é‡‡è´­ç®¡ç†ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

#### è¯´æ˜
- ç‰©æ–™çŸ­ç¼ºç®¡ç†
- é‡‡è´­è®¢å•
- åº“å­˜åˆ†æ

#### æ¨¡å—åˆ—è¡¨ï¼ˆ12ä¸ªï¼‰

| åºå· | æ¨¡å—è·¯å¾„ | å¤æ‚åº¦ | è¯´æ˜ | é¢„è®¡å·¥ä½œé‡ |
|------|---------|--------|------|----------|
| 1 | `shortage/shortage_alerts_service.py` | ä¸­ | çŸ­ç¼ºé¢„è­¦ | 1å¤© |
| 2 | `shortage/shortage_management_service.py` | ä¸­ | çŸ­ç¼ºç®¡ç† | 1å¤© |
| 3 | `shortage/shortage_reports_service.py` | ä¸­ | çŸ­ç¼ºæŠ¥è¡¨ | 1å¤© |
| 4 | `shortage_report_service.py` | ä¸­ | çŸ­ç¼ºæŠ¥å‘Š | 1å¤© |
| 5 | `purchase_order_from_bom_service.py` | ä¸­ | BOMé‡‡è´­è®¢å• | 1å¤© |
| 6 | `purchase_request_from_bom_service.py` | ä¸­ | BOMé‡‡è´­è¯·æ±‚ | 1å¤© |
| 7 | `urgent_purchase_from_shortage_service.py` | ä¸­ | ç´§æ€¥é‡‡è´­ | 1å¤© |
| 8 | `material_transfer_service.py` | ä¸­ | ç‰©æ–™è½¬ç§» | 1å¤© |
| 9 | `inventory_analysis_service.py` | ä½ | åº“å­˜åˆ†æ | 1å¤© |
| 10 | `procurement_analysis_service.py` | ä½ | é‡‡è´­åˆ†æ | 1å¤© |
| 11 | `assembly_kit_service.py` | ä¸­ | è£…é…å¥—ä»¶ | 1å¤© |
| 12 | `assembly_kit_optimizer.py` | é«˜ | è£…é…ä¼˜åŒ– | 2å¤© |

**å°è®¡**: 12ä¸ªæ¨¡å—ï¼Œé¢„è®¡å·¥ä½œé‡ **13å¤©**

---

### 3.5 P4 - AIä¸åˆ†ææœåŠ¡ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

#### è¯´æ˜
- AI è¯„åˆ†
- é¢„æµ‹åˆ†æ
- æ¨èå¼•æ“
- çŸ¥è¯†æå–

#### æ¨¡å—åˆ—è¡¨ï¼ˆ15ä¸ªï¼‰

| åºå· | æ¨¡å—è·¯å¾„ | å¤æ‚åº¦ | è¯´æ˜ | é¢„è®¡å·¥ä½œé‡ |
|------|---------|--------|------|----------|
| 1 | `ai_assessment_service.py` | é«˜ | AIè¯„ä¼° | 2å¤© |
| 2 | `lead_priority_scoring/core.py` | é«˜ | çº¿ç´¢è¯„åˆ†æ ¸å¿ƒ | 2å¤© |
| 3 | `lead_priority_scoring/lead_scoring.py` | é«˜ | çº¿ç´¢è¯„åˆ† | 1å¤© |
| 4 | `lead_priority_scoring/ranking.py` | ä¸­ | æ’å | 1å¤© |
| 5 | `win_rate_prediction_service.py` | é«˜ | èµ¢å•é¢„æµ‹ | 2å¤© |
| 6 | `sales_prediction_service.py` | é«˜ | é”€å”®é¢„æµ‹ | 2å¤© |
| 7 | `template_recommendation_service.py` | ä¸­ | æ¨¡æ¿æ¨è | 1å¤© |
| 8 | `spec_match_service.py` | ä¸­ | è§„æ ¼åŒ¹é… | 1å¤© |
| 9 | `knowledge_auto_identification_service.py` | ä¸­ | çŸ¥è¯†è‡ªåŠ¨è¯†åˆ« | 1å¤© |
| 10 | `knowledge_extraction_service.py` | ä¸­ | çŸ¥è¯†æå– | 1å¤© |
| 11 | `work_log_ai/core.py` | é«˜ | å·¥ä½œæ—¥å¿—AIæ ¸å¿ƒ | 2å¤© |
| 12 | `work_log_ai/project_matching.py` | ä¸­ | é¡¹ç›®åŒ¹é… | 1å¤© |
| 13 | `work_log_ai/ai_analysis.py` | ä¸­ | AIåˆ†æ | 1å¤© |
| 14 | `work_log_auto_generator.py` | é«˜ | è‡ªåŠ¨ç”Ÿæˆ | 2å¤© |
| 15 | `technical_assessment_service.py` | ä¸­ | æŠ€æœ¯è¯„ä¼° | 1å¤© |

**å°è®¡**: 15ä¸ªæ¨¡å—ï¼Œé¢„è®¡å·¥ä½œé‡ **21å¤©**

---

### 3.6 P5 - å‘Šè­¦ä¸é€šçŸ¥ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

#### è¯´æ˜
- å‘Šè­¦è§„åˆ™å¼•æ“
- é¢„è­¦ç»Ÿè®¡
- é€šçŸ¥å¤„ç†å™¨

#### æ¨¡å—åˆ—è¡¨ï¼ˆ10ä¸ªï¼‰

| åºå· | æ¨¡å—è·¯å¾„ | å¤æ‚åº¦ | è¯´æ˜ | é¢„è®¡å·¥ä½œé‡ |
|------|---------|--------|------|----------|
| 1 | `alert_rule_engine/alert_generator.py` | é«˜ | å‘Šè­¦ç”Ÿæˆå™¨ | 2å¤© |
| 2 | `alert_rule_engine/condition_evaluator.py` | é«˜ | æ¡ä»¶è¯„ä¼°å™¨ | 2å¤© |
| 3 | `alert_rule_engine/level_determiner.py` | ä¸­ | çº§åˆ«ç¡®å®šå™¨ | 1å¤© |
| 4 | `alert_rule_engine/rule_manager.py` | ä¸­ | è§„åˆ™ç®¡ç†å™¨ | 1å¤© |
| 5 | `alert_trend_service.py` | ä¸­ | é¢„è­¦è¶‹åŠ¿ | 1å¤© |
| 6 | `notification_handlers/email_handler.py` | ä¸­ | é‚®ä»¶å¤„ç†å™¨ | 1å¤© |
| 7 | `notification_handlers/wechat_handler.py` | ä¸­ | å¾®ä¿¡å¤„ç†å™¨ | 1å¤© |
| 8 | `notification_handlers/sms_handler.py` | ä¸­ | çŸ­ä¿¡å¤„ç†å™¨ | 1å¤© |
| 9 | `notification_queue.py` | ä¸­ | é€šçŸ¥é˜Ÿåˆ— | 1å¤© |
| 10 | `alert_subscription_service.py` | ä¸­ | é¢„è­¦è®¢é˜… | 1å¤© |

**å°è®¡**: 10ä¸ªæ¨¡å—ï¼Œé¢„è®¡å·¥ä½œé‡ **12å¤©**

---

### 3.7 P6 - å…¶ä»–è¾…åŠ©æœåŠ¡ï¼ˆä½ä¼˜å…ˆçº§ï¼‰

#### è¯´æ˜
- å®¢æˆ·360è§†å›¾
- èµ„æºè§„åˆ’
- å‘˜å·¥ç®¡ç†
- å…¶ä»–è¾…åŠ©åŠŸèƒ½

#### æ¨¡å—åˆ—è¡¨ï¼ˆ17ä¸ªï¼‰

| åºå· | æ¨¡å—è·¯å¾„ | å¤æ‚åº¦ | è¯´æ˜ | é¢„è®¡å·¥ä½œé‡ |
|------|---------|--------|------|----------|
| 1 | `customer_360_service.py` | ä¸­ | å®¢æˆ·360è§†å›¾ | 1å¤© |
| 2 | `resource_allocation_service.py` | ä¸­ | èµ„æºåˆ†é… | 1å¤© |
| 3 | `resource_planning_service.py` | ä¸­ | èµ„æºè§„åˆ’ | 1å¤© |
| 4 | `user_workload_service.py` | ä½ | ç”¨æˆ·å·¥ä½œè´Ÿè½½ | 0.5å¤© |
| 5 | `machine_service.py` | ä½ | è®¾å¤‡æœåŠ¡ | 0.5å¤© |
| 6 | `service/service_tickets_service.py` | ä¸­ | æœåŠ¡å·¥å• | 1å¤© |
| 7 | `service/service_records_service.py` | ä¸­ | æœåŠ¡è®°å½• | 1å¤© |
| 8 | `qualification_service.py` | ä½ | èµ„è´¨æœåŠ¡ | 0.5å¤© |
| 9 | `solution_credit_service.py` | ä½ | æ–¹æ¡ˆä¿¡ç”¨ | 0.5å¤© |
| 10 | `solution_engineer_bonus_service.py` | ä½ | æ–¹æ¡ˆå·¥ç¨‹å¸ˆå¥–é‡‘ | 0.5å¤© |
| 11 | `project_bonus_service.py` | ä½ | é¡¹ç›®å¥–é‡‘ | 0.5å¤© |
| 12 | `project_contribution_service.py` | ä½ | é¡¹ç›®è´¡çŒ® | 0.5å¤© |
| 13 | `project_meeting_service.py` | ä½ | é¡¹ç›®ä¼šè®® | 0.5å¤© |
| 14 | `project_solution_service.py` | ä½ | é¡¹ç›®æ–¹æ¡ˆ | 0.5å¤© |
| 15 | `manager_evaluation_service.py` | ä½ | ç»ç†è¯„ä¼° | 0.5å¤© |
| 16 | `labor_cost_expense_service.py` | ä½ | äººå·¥æˆæœ¬è´¹ç”¨ | 0.5å¤© |
| 17 | `invoice_auto_service.py` | ä¸­ | å‘ç¥¨è‡ªåŠ¨æœåŠ¡ | 1å¤© |

**å°è®¡**: 17ä¸ªæ¨¡å—ï¼Œé¢„è®¡å·¥ä½œé‡ **10.5å¤©**

---

## ğŸ—“ï¸ åˆ†é˜¶æ®µå®æ–½è®¡åˆ’

### Phase 0: åŸºç¡€å‡†å¤‡ä¸é«˜ä¼˜å…ˆçº§æ¨¡å—ï¼ˆWeek 1ï¼‰

**ç›®æ ‡è¦†ç›–ç‡**: 42.1% â†’ 50% (+7.9%)

**é‡ç‚¹ä»»åŠ¡**:
1. æµ‹è¯•æ¡†æ¶ä¼˜åŒ–ï¼ˆ1å¤©ï¼‰
   - ä¿®å¤æ‰€æœ‰ fixture é—®é¢˜
   - ç»Ÿä¸€æµ‹è¯•åŸºç±»
   - å»ºç«‹ Mock å·¥å…·åº“

2. **P0 æ ¸å¿ƒä¸šåŠ¡æœåŠ¡ï¼ˆ4å¤©ï¼‰**
   - `health_calculator.py`
   - `project_evaluation_service.py`
   - `cost_analysis_service.py`
   - `cost_allocation_service.py`
   - `acceptance_completion_service.py`
   - `acceptance_report_service.py`
   - `alert_efficiency_service.py`
   - `pipeline_health_service.py`

**é¢„æœŸæˆæœ**:
- 8ä¸ªæ ¸å¿ƒæœåŠ¡æ¨¡å—å®Œæˆæµ‹è¯•
- è¦†ç›–ç‡æå‡è‡³ 50%
- æµ‹è¯•æ¡†æ¶ç¨³å®šå¯ç”¨

---

### Phase 1: æ ¸å¿ƒæœåŠ¡å…¨é¢è¦†ç›–ï¼ˆWeek 2-3ï¼‰

**ç›®æ ‡è¦†ç›–ç‡**: 50% â†’ 65% (+15%)

**é‡ç‚¹ä»»åŠ¡**:

**Week 2: P0 æ ¸å¿ƒï¼ˆ5å¤©ï¼‰**
- å®Œæˆå‰©ä½™ P0 æ¨¡å—ï¼ˆ22ä¸ªï¼‰
- é‡ç‚¹å…³æ³¨ï¼š
  - å¥–é‡‘åˆ†é…æœåŠ¡
  - é¢„ç®—ç®¡ç†æœåŠ¡
  - é¡¹ç›®ä»ªè¡¨ç›˜
  - å·¥ä½œæ—¥å¿—æœåŠ¡
  - å·¥æ—¶æŠ¥è¡¨æœåŠ¡
  - é€šçŸ¥æœåŠ¡

**Week 3: P1 å®¡æ‰¹æµç¨‹ï¼ˆ5å¤©ï¼‰**
- å®Œæˆ P1 æ¨¡å—ï¼ˆ20ä¸ªï¼‰
- é‡ç‚¹å…³æ³¨ï¼š
  - å®¡æ‰¹å¼•æ“æ ¸å¿ƒ
  - å·¥ä½œæµç®¡ç†
  - ECN å®¡æ‰¹æµç¨‹
  - é˜¶æ®µå®ä¾‹ç®¡ç†

**é¢„æœŸæˆæœ**:
- 50ä¸ªæœåŠ¡æ¨¡å—å®Œæˆæµ‹è¯•
- è¦†ç›–ç‡æå‡è‡³ 65%
- æ ¸å¿ƒä¸šåŠ¡æµç¨‹ 100% è¦†ç›–

---

### Phase 2: æ•°æ®å¤„ç†ä¸APIç«¯ç‚¹ï¼ˆWeek 4-5ï¼‰

**ç›®æ ‡è¦†ç›–ç‡**: 65% â†’ 75% (+10%)

**é‡ç‚¹ä»»åŠ¡**:

**Week 4: P2 å¯¼å…¥å¯¼å‡ºï¼ˆ5å¤©ï¼‰**
- å®Œæˆ P2 æ¨¡å—ï¼ˆ18ä¸ªï¼‰
- é‡ç‚¹å…³æ³¨ï¼š
  - Excel/PDF/PPT å¯¼å‡º
  - æ•°æ®å¯¼å…¥æœåŠ¡
  - æ•°æ®åŒæ­¥æœåŠ¡

**Week 5: P3 çŸ­ç¼ºé‡‡è´­ + APIç«¯ç‚¹ï¼ˆ5å¤©ï¼‰**
- å®Œæˆ P3 æ¨¡å—ï¼ˆ12ä¸ªï¼‰
- å¼€å§‹ API Endpoints æµ‹è¯•è¡¥å……ï¼ˆ20ä¸ªå…³é”®ç«¯ç‚¹ï¼‰

**é¢„æœŸæˆæœ**:
- 80ä¸ªæœåŠ¡æ¨¡å—å®Œæˆæµ‹è¯•
- 20ä¸ªå…³é”® API ç«¯ç‚¹å®Œæˆæµ‹è¯•
- è¦†ç›–ç‡æå‡è‡³ 75%

---

### Phase 3: å®Œå–„è¦†ç›–ä¸ä¼˜åŒ–ï¼ˆWeek 6ï¼‰

**ç›®æ ‡è¦†ç›–ç‡**: 75% â†’ 80% (+5%)

**é‡ç‚¹ä»»åŠ¡**:

**Week 6: P4-P6 æ¨¡å— + Utilsï¼ˆ5å¤©ï¼‰**
- å®Œæˆ P4 æ¨¡å—ï¼ˆ15ä¸ªï¼‰
- å®Œæˆ P5 æ¨¡å—ï¼ˆ10ä¸ªï¼‰
- å®Œæˆ P6 æ¨¡å—ï¼ˆ17ä¸ªï¼‰
- Utils å±‚æµ‹è¯•è¡¥å……

**é¢„æœŸæˆæœ**:
- 122ä¸ªæœåŠ¡æ¨¡å— 100% è¦†ç›–
- Utils å±‚è¦†ç›–ç‡æå‡è‡³ 90%
- æ€»ä½“è¦†ç›–ç‡ â‰¥80%

---

## ğŸ› ï¸ æµ‹è¯•ç­–ç•¥ä¸æ–¹æ³•è®º

### 4.1 æµ‹è¯•ç±»å‹ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | æµ‹è¯•ç±»å‹ | è¦†ç›–ç›®æ ‡ | æ–¹æ³• |
|--------|---------|---------|------|
| P0 | å•å…ƒæµ‹è¯• | æ ¸å¿ƒé€»è¾‘ 100% | Mock ä¾èµ–ï¼Œéš”ç¦»æµ‹è¯• |
| P1 | é›†æˆæµ‹è¯• | å…³é”®æµç¨‹ 100% | TestClientï¼ŒçœŸå®DB |
| P2 | E2E æµ‹è¯• | æ ¸å¿ƒä¸šåŠ¡åœºæ™¯ | å®Œæ•´æµç¨‹æµ‹è¯• |
| P3 | æ€§èƒ½æµ‹è¯• | é«˜é¢‘æ¥å£ | å‹åŠ›æµ‹è¯•ï¼Œå“åº”æ—¶é—´ |
| P4 | å®‰å…¨æµ‹è¯• | è®¤è¯æˆæƒ | æƒé™è¾¹ç•Œæµ‹è¯• |

### 4.2 æµ‹è¯•ç¼–å†™è§„èŒƒ

#### 4.2.1 æ–‡ä»¶å‘½åè§„èŒƒ

```
tests/unit/test_{service_name}.py
tests/integration/test_{feature}_complete.py
tests/e2e/test_{business_scenario}.py
```

#### 4.2.2 æµ‹è¯•å‡½æ•°å‘½åè§„èŒƒ

```python
def test_{function_name}_{happy_path}():
    """
    æµ‹è¯• {function_name} çš„æ­£å¸¸æµç¨‹
    """
    pass

def test_{function_name}_{edge_case}():
    """
    æµ‹è¯• {function_name} çš„è¾¹ç•Œæƒ…å†µ
    """
    pass

def test_{function_name}_{error_case}():
    """
    æµ‹è¯• {function_name} çš„å¼‚å¸¸å¤„ç†
    """
    pass
```

#### 4.2.3 æµ‹è¯•ç»“æ„æ¨¡æ¿

```python
import pytest
from unittest.mock import Mock, patch
from app.services.{service_name} import {ServiceClass}


class Test{ServiceClass}:
    """
    {ServiceClass} æµ‹è¯•å¥—ä»¶
    """

    @pytest.fixture
    def service(self, db_session):
        """
        åˆ›å»ºæœåŠ¡å®ä¾‹
        """
        return {ServiceClass}(db_session)

    @pytest.fixture
    def sample_data(self):
        """
        å‡†å¤‡æµ‹è¯•æ•°æ®
        """
        return {
            "key": "value"
        }

    def test_{function_name}_success(self, service, sample_data):
        """
        æµ‹è¯• {function_name} æˆåŠŸåœºæ™¯

        Given: å‡†å¤‡æµ‹è¯•æ•°æ®å’Œæ¡ä»¶
        When: è°ƒç”¨ {function_name}
        Then: éªŒè¯ç»“æœç¬¦åˆé¢„æœŸ
        """
        # Given
        # å‡†å¤‡æµ‹è¯•æ¡ä»¶

        # When
        result = service.{function_name}(sample_data)

        # Then
        assert result is not None
        assert result.key == "value"

    def test_{function_name}_error(self, service):
        """
        æµ‹è¯• {function_name} å¼‚å¸¸åœºæ™¯
        """
        # Given
        # å‡†å¤‡ä¼šå¯¼è‡´é”™è¯¯çš„æ¡ä»¶

        # When & Then
        with pytest.raises(ValueError, match="expected error message"):
            service.{function_name}(invalid_data)
```

### 4.3 Mock ç­–ç•¥

#### 4.3.1 å¤–éƒ¨ä¾èµ– Mock

```python
from unittest.mock import Mock, patch

@patch('app.services.{service}.external_api_call')
def test_function_with_external_dep(mock_api):
    """
    Mock å¤–éƒ¨APIè°ƒç”¨
    """
    # è®¾ç½® Mock è¿”å›å€¼
    mock_api.return_value = {"status": "success"}

    # æ‰§è¡Œæµ‹è¯•
    result = service.function()

    # éªŒè¯ Mock è¢«è°ƒç”¨
    mock_api.assert_called_once()
```

#### 4.3.2 æ•°æ®åº“æ“ä½œ Mock

```python
@pytest.fixture
def mock_db_session():
    """
    Mock æ•°æ®åº“ä¼šè¯
    """
    session = Mock()
    session.query.return_value.filter.return_value.first.return_value = Mock()
    return session

def test_with_db_mock(mock_db_session):
    """
    ä½¿ç”¨ Mock æ•°æ®åº“ä¼šè¯æµ‹è¯•
    """
    service = ServiceClass(mock_db_session)
    result = service.get_by_id(1)
    assert result is not None
```

#### 4.3.3 å¤æ‚é€»è¾‘ Patch

```python
from unittest.mock import patch, MagicMock

@patch('app.services.{service}.expensive_calculation')
@patch('app.services.{service}.external_service_call')
def test_complex_function(mock_external, mock_calc):
    """
    Mock å¤šä¸ªä¾èµ–
    """
    mock_calc.return_value = 100
    mock_external.return_value = "success"

    result = service.complex_function(data)

    mock_calc.assert_called_once()
    mock_external.assert_called_once()
    assert result == "success"
```

### 4.4 æ–­è¨€æœ€ä½³å®è·µ

#### 4.4.1 æ˜ç¡®çš„ä¸šåŠ¡è¯­ä¹‰æ–­è¨€

```python
# âŒ ä¸å¥½ï¼šè¿‡äºç¬¼ç»Ÿ
assert result is not None

# âœ… å¥½ï¼šæ˜ç¡®éªŒè¯
assert result.status == "approved"
assert result.approver_id == expected_approver_id
assert result.approved_at is not None
```

#### 4.4.2 å¤šç»´æ–­è¨€

```python
# âœ… å¥½ï¼šéªŒè¯å¤šä¸ªç»´åº¦
assert result.status == "approved"
assert result.approver.name == "Test User"
assert result.comments == "Auto-approve for testing"
assert len(result.approval_chain) == 3
```

#### 4.4.3 å¼‚å¸¸æ–­è¨€

```python
# âŒ ä¸å¥½ï¼šè¿‡äºå®½æ³›
with pytest.raises(Exception):
    service.function()

# âœ… å¥½ï¼šæ˜ç¡®å¼‚å¸¸ç±»å‹å’Œæ¶ˆæ¯
with pytest.raises(ValueError, match="Project budget exceeded"):
    service.function(project_id, amount)
```

### 4.5 æµ‹è¯•æ•°æ®ç®¡ç†

#### 4.5.1 ä½¿ç”¨ Factory Pattern

```python
@pytest.fixture
def project_factory(db_session):
    """
    é¡¹ç›®å·¥å‚å‡½æ•°
    """
    def create_project(**kwargs):
        defaults = {
            "name": "Test Project",
            "customer_id": 1,
            "status": ProjectStatus.S1
        }
        defaults.update(kwargs)
        return Project(**defaults)

    return create_project

def test_with_factory(project_factory):
    """
    ä½¿ç”¨å·¥å‚å‡½æ•°åˆ›å»ºæµ‹è¯•æ•°æ®
    """
    project = project_factory(name="Custom Project")
    assert project.name == "Custom Project"
```

#### 4.5.2 æ•°æ®æ¸…ç†ç­–ç•¥

```python
@pytest.fixture(autouse=True)
def clean_database(db_session):
    """
    æ¯ä¸ªæµ‹è¯•åè‡ªåŠ¨æ¸…ç†æ•°æ®åº“
    """
    yield
    # æ¸…ç†æµ‹è¯•æ•°æ®
    db_session.query(Project).delete()
    db_session.query(AlertRecord).delete()
    db_session.commit()
```

---

## ğŸ“Š è¿›åº¦è·Ÿè¸ªä¸æŠ¥å‘Š

### 5.1 æ¯æ—¥è¿›åº¦æŠ¥å‘Šæ¨¡æ¿

```markdown
# æµ‹è¯•è¦†ç›–ç‡æå‡ - Day {N}

## ğŸ“ˆ ä»Šæ—¥è¦†ç›–ç‡

| æ¨¡å— | è¯­å¥æ•° | å·²è¦†ç›– | è¦†ç›–ç‡ | è¾ƒæ˜¨æ—¥å˜åŒ– |
|------|--------|--------|--------|----------|
| Services | 21,067 | X,XXX | XX.X% | +X.X% |
| API Endpoints | 35,056 | X,XXX | XX.X% | +X.X% |
| Utils | 2,071 | XXX | XX.X% | +X.X% |
| **æ€»ä½“** | 76,668 | XX,XXX | **XX.X%** | **+X.X%** |

## âœ… ä»Šæ—¥å®Œæˆçš„æ¨¡å—

| åºå· | æ¨¡å— | æµ‹è¯•æ–‡ä»¶æ•° | è¦†ç›–ç‡ | å·¥ä½œé‡ |
|------|------|----------|--------|--------|
| 1 | xxx_service.py | 15 | 95% | 1.5å¤© |
| 2 | xxx_service.py | 12 | 88% | 1.2å¤© |

## ğŸš§ æ˜æ—¥è®¡åˆ’

- [ ] å®Œæˆ xxx_service.py æµ‹è¯•
- [ ] å®Œæˆ xxx_service.py æµ‹è¯•

## âš ï¸ é‡åˆ°çš„é—®é¢˜

- é—®é¢˜1ï¼šæè¿°
  - è§£å†³æ–¹æ¡ˆï¼š...

## ğŸ“ å¤‡æ³¨

...
```

### 5.2 å‘¨åº¦é‡Œç¨‹ç¢‘æ£€æŸ¥æ¸…å•

- [ ] **Week 1 é‡Œç¨‹ç¢‘**
  - [ ] è¦†ç›–ç‡è¾¾åˆ° 50%
  - [ ] å®Œæˆ 8 ä¸ª P0 æ¨¡å—
  - [ ] æµ‹è¯•æ¡†æ¶ä¼˜åŒ–å®Œæˆ

- [ ] **Week 3 é‡Œç¨‹ç¢‘**
  - [ ] è¦†ç›–ç‡è¾¾åˆ° 65%
  - [ ] å®Œæˆ 50 ä¸ªæœåŠ¡æ¨¡å—
  - [ ] æ ¸å¿ƒä¸šåŠ¡æµç¨‹ 100% è¦†ç›–

- [ ] **Week 5 é‡Œç¨‹ç¢‘**
  - [ ] è¦†ç›–ç‡è¾¾åˆ° 75%
  - [ ] å®Œæˆ 80 ä¸ªæœåŠ¡æ¨¡å—
  - [ ] 20 ä¸ª API ç«¯ç‚¹å®Œæˆæµ‹è¯•

- [ ] **Week 6 é‡Œç¨‹ç¢‘**
  - [ ] è¦†ç›–ç‡è¾¾åˆ° â‰¥80%
  - [ ] å®Œæˆ 122 ä¸ªæœåŠ¡æ¨¡å—
  - [ ] Utils å±‚è¾¾åˆ° 90%
  - [ ] æ€»ä½“é¡¹ç›®å®Œæˆ

---

## ğŸ¯ å¯æ‰§è¡Œçš„è¡ŒåŠ¨æ¸…å•

### Week 1: åŸºç¡€å‡†å¤‡ï¼ˆ5å¤©ï¼‰

#### Day 1: æµ‹è¯•æ¡†æ¶ä¼˜åŒ–
- [ ] ä¿®å¤ `conftest.py` ä¸­çš„ fixture é—®é¢˜
- [ ] åˆ›å»ºç»Ÿä¸€æµ‹è¯•åŸºç±» `tests/conftest.py`
- [ ] å»ºç«‹ Mock å·¥å…·åº“ `tests/utils/mocks.py`
- [ ] åˆ›å»ºæµ‹è¯•æ•°æ®å·¥å‚ `tests/utils/factories.py`
- [ ] è¿è¡Œæµ‹è¯•å¥—ä»¶ï¼Œç¡®ä¿æ— é”™è¯¯

#### Day 2: P0 æ ¸å¿ƒ - å¥åº·åº¦ä¸è¯„ä¼°
- [ ] `health_calculator.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
  - [ ] å¥åº·åº¦è®¡ç®—é€»è¾‘
  - [ ] é˜¶æ®µæƒé‡è®¡ç®—
  - [ ] é£é™©è¯„ä¼°
- [ ] `project_evaluation_service.py` æµ‹è¯•
  - [ ] é¡¹ç›®è¯„ä¼°é€»è¾‘
  - [ ] è¯„åˆ†è®¡ç®—
  - [ ] å¼‚å¸¸å¤„ç†

#### Day 3-4: P0 æ ¸å¿ƒ - æˆæœ¬ä¸éªŒæ”¶
- [ ] `cost_analysis_service.py` æµ‹è¯•
  - [ ] æˆæœ¬åˆ†æé€»è¾‘
  - [ ] æˆæœ¬è¶‹åŠ¿è®¡ç®—
- [ ] `cost_allocation_service.py` æµ‹è¯•
  - [ ] æˆæœ¬åˆ†æ‘Šç®—æ³•
  - [ ] åˆ†æ‘Šè§„åˆ™éªŒè¯
- [ ] `acceptance_completion_service.py` æµ‹è¯•
  - [ ] éªŒæ”¶å®Œæˆæµç¨‹
  - [ ] çŠ¶æ€æ›´æ–°é€»è¾‘
- [ ] `acceptance_report_service.py` æµ‹è¯•
  - [ ] æŠ¥å‘Šç”Ÿæˆé€»è¾‘
  - [ ] æ•°æ®èšåˆ

#### Day 5: P0 æ ¸å¿ƒ - é¢„è­¦ä¸ç®¡é“
- [ ] `alert_efficiency_service.py` æµ‹è¯•
  - [ ] é¢„è­¦æ•ˆç‡è®¡ç®—
  - [ ] å“åº”æ—¶é—´åˆ†æ
- [ ] `pipeline_health_service.py` æµ‹è¯•
  - [ ] å…¨é“¾æ¡å¥åº·åº¦
  - [ ] å¤šé˜¶æ®µè”åŠ¨

---

### Week 2: P0 æ ¸å¿ƒï¼ˆ5å¤©ï¼‰

#### æ¯æ—¥ç›®æ ‡ï¼š4-5ä¸ªæ¨¡å—

- [ ] `bonus_distribution_service.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `budget_analysis_service.py` æµ‹è¯•
- [ ] `budget_execution_check_service.py` æµ‹è¯•
- [ ] `project_dashboard_service.py` æµ‹è¯•
- [ ] `project_timeline_service.py` æµ‹è¯•
- [ ] `stage_advance_service.py` æµ‹è¯•
- [ ] `stage_transition_service.py` æµ‹è¯•
- [ ] `stage_transition_checks.py` æµ‹è¯•
- [ ] `status_transition_service.py` æµ‹è¯•
- [ ] `collaboration_rating_service.py` æµ‹è¯•
- [ ] `collaboration_service.py` æµ‹è¯•
- [ ] `work_log_service.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `timesheet_report_service.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `timesheet_aggregation_service.py` æµ‹è¯•
- [ ] `performance_collector/aggregator.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `performance_collector/project_collector.py` æµ‹è¯•
- [ ] `performance_collector/work_log_collector.py` æµ‹è¯•
- [ ] `notification_service.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `notification_dispatcher.py` æµ‹è¯•
- [ ] `purchase/purchase_service.py` æµ‹è¯•

---

### Week 3: P1 å®¡æ‰¹æµç¨‹ï¼ˆ5å¤©ï¼‰

#### æ¯æ—¥ç›®æ ‡ï¼š4ä¸ªæ¨¡å—

- [ ] `approval_engine/engine/core.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `approval_engine/engine/submit.py` æµ‹è¯•
- [ ] `approval_engine/engine/approve.py` æµ‹è¯•
- [ ] `approval_engine/engine/query.py` æµ‹è¯•
- [ ] `approval_engine/router.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `approval_engine/executor.py` æµ‹è¯•
- [ ] `approval_workflow/core.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `approval_workflow/approval_actions.py` æµ‹è¯•
- [ ] `approval_workflow/workflow_start.py` æµ‹è¯•
- [ ] `approval_workflow/helpers.py` æµ‹è¯•
- [ ] `approval_engine/adapters/ecn.py` æµ‹è¯•
- [ ] `approval_engine/adapters/contract.py` æµ‹è¯•
- [ ] `approval_engine/adapters/project.py` æµ‹è¯•
- [ ] `ecn_scheduler.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `ecn_auto_assign_service.py` æµ‹è¯•
- [ ] `ecn_notification/base.py` æµ‹è¯•
- [ ] `ecn_notification/ecn_notifications.py` æµ‹è¯•
- [ ] `ecn_notification/evaluation_notifications.py` æµ‹è¯•
- [ ] `ecn_notification/approval_notifications.py` æµ‹è¯•
- [ ] `stage_instance/core.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰

---

### Week 4: P2 å¯¼å…¥å¯¼å‡ºï¼ˆ5å¤©ï¼‰

#### æ¯æ—¥ç›®æ ‡ï¼š4ä¸ªæ¨¡å—

- [ ] `excel_export_service.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `pdf_export_service.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `pdf_content_builders.py` æµ‹è¯•
- [ ] `ppt_generator/generator.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `ppt_generator/content_builder.py` æµ‹è¯•
- [ ] `ppt_generator/table_builder.py` æµ‹è¯•
- [ ] `docx_content_builders.py` æµ‹è¯•
- [ ] `unified_import/unified_importer.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `unified_import/user_importer.py` æµ‹è¯•
- [ ] `unified_import/material_importer.py` æµ‹è¯•
- [ ] `unified_import/bom_importer.py` æµ‹è¯•
- [ ] `unified_import/task_importer.py` æµ‹è¯•
- [ ] `unified_import/timesheet_importer.py` æµ‹è¯•
- [ ] `employee_import_service.py` æµ‹è¯•
- [ ] `hr_profile_import_service.py` æµ‹è¯•
- [ ] `data_sync_service.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `user_sync_service.py` æµ‹è¯•
- [ ] `meeting_report_docx_service.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰

---

### Week 5: P3 çŸ­ç¼ºé‡‡è´­ + APIç«¯ç‚¹ï¼ˆ5å¤©ï¼‰

#### å‰3å¤©ï¼šP3 æ¨¡å—
- [ ] `shortage/shortage_alerts_service.py` æµ‹è¯•
- [ ] `shortage/shortage_management_service.py` æµ‹è¯•
- [ ] `shortage/shortage_reports_service.py` æµ‹è¯•
- [ ] `shortage_report_service.py` æµ‹è¯•
- [ ] `purchase_order_from_bom_service.py` æµ‹è¯•
- [ ] `purchase_request_from_bom_service.py` æµ‹è¯•
- [ ] `urgent_purchase_from_shortage_service.py` æµ‹è¯•
- [ ] `material_transfer_service.py` æµ‹è¯•
- [ ] `inventory_analysis_service.py` æµ‹è¯•
- [ ] `procurement_analysis_service.py` æµ‹è¯•
- [ ] `assembly_kit_service.py` æµ‹è¯•
- [ ] `assembly_kit_optimizer.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰

#### å2å¤©ï¼šAPI Endpointsï¼ˆ20ä¸ªï¼‰
- [ ] `test_projects_api.py` è¡¥å……æµ‹è¯•
- [ ] `test_machines_api.py` è¡¥å……æµ‹è¯•
- [ ] `test_acceptance.py` è¡¥å……æµ‹è¯•
- [ ] `test_purchase.py` è¡¥å……æµ‹è¯•
- [ ] `test_ecn.py` è¡¥å……æµ‹è¯•

---

### Week 6: P4-P6 + Utilsï¼ˆ5å¤©ï¼‰

#### å‰2å¤©ï¼šP4 AIä¸åˆ†æ
- [ ] `ai_assessment_service.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `lead_priority_scoring/core.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `lead_priority_scoring/lead_scoring.py` æµ‹è¯•
- [ ] `lead_priority_scoring/ranking.py` æµ‹è¯•
- [ ] `win_rate_prediction_service.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `sales_prediction_service.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰

#### ä¸­2å¤©ï¼šP5-P6 è¾…åŠ©æ¨¡å—
- [ ] `alert_rule_engine/alert_generator.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `alert_rule_engine/condition_evaluator.py` æµ‹è¯•ï¼ˆ2å¤©ï¼‰
- [ ] `alert_rule_engine/level_determiner.py` æµ‹è¯•
- [ ] `alert_rule_engine/rule_manager.py` æµ‹è¯•
- [ ] `alert_trend_service.py` æµ‹è¯•
- [ ] `notification_handlers/email_handler.py` æµ‹è¯•
- [ ] `notification_handlers/wechat_handler.py` æµ‹è¯•
- [ ] `notification_handlers/sms_handler.py` æµ‹è¯•
- [ ] `notification_queue.py` æµ‹è¯•
- [ ] `alert_subscription_service.py` æµ‹è¯•

#### å1å¤©ï¼šUtilså±‚ + æ•´ç†
- [ ] Utils å±‚æµ‹è¯•è¡¥å……
  - [ ] `app/utils/*.py` æ¨¡å—æµ‹è¯•
- [ ] æœ€ç»ˆè¦†ç›–ç‡æ£€æŸ¥
- [ ] ç”Ÿæˆæœ€ç»ˆæµ‹è¯•æŠ¥å‘Š
- [ ] æ–‡æ¡£æ›´æ–°

---

## ğŸ“ˆ é¢„æœŸæˆæœ

### 6.1 è¦†ç›–ç‡æå‡è½¨è¿¹

```
Week 0: 42.1% (32,258/76,668)  â† åŸºçº¿
Week 1: 50.0% (38,334/76,668)  +7.9%
Week 3: 65.0% (49,839/76,668) +15.0%
Week 5: 75.0% (57,506/76,668) +10.0%
Week 6: 80.0% (61,334/76,668) +5.0%
```

### 6.2 æµ‹è¯•æ–‡ä»¶ç»Ÿè®¡

| æ¨¡å— | å½“å‰æµ‹è¯•æ–‡ä»¶ | ç›®æ ‡æµ‹è¯•æ–‡ä»¶ | å¢é‡ |
|------|------------|------------|------|
| Services | 105 | 227 | +122 |
| API Endpoints | 43 | 63 | +20 |
| Utils | 5 | 15 | +10 |
| **æ€»è®¡** | **153** | **305** | **+152** |

### 6.3 ä»£ç è´¨é‡æå‡

| æŒ‡æ ‡ | å½“å‰ | ç›®æ ‡ | æ”¹å–„ |
|------|------|------|------|
| æµ‹è¯•è¦†ç›–ç‡ | 42.1% | â‰¥80% | +37.9% |
| æœ‰æµ‹è¯•çš„æœåŠ¡æ¨¡å— | 105/309 (34%) | 227/309 (73%) | +39% |
| å•å…ƒæµ‹è¯•æ•°é‡ | ~1,000 | ~2,500 | +150% |
| é›†æˆæµ‹è¯•æ•°é‡ | ~30 | ~80 | +167% |
| æµ‹è¯•å¥—ä»¶è¿è¡Œæ—¶é—´ | ~3åˆ†é’Ÿ | <5åˆ†é’Ÿ | æ§åˆ¶åœ¨å¯æ¥å—èŒƒå›´ |

---

## âš ï¸ é£é™©ä¸åº”å¯¹

### 7.1 é£é™©è¯†åˆ«

| é£é™© | å½±å“ | æ¦‚ç‡ | åº”å¯¹æªæ–½ |
|------|------|------|---------|
| **æµ‹è¯•æ¡†æ¶é—®é¢˜** | é«˜ | ä¸­ | ç¬¬ä¸€å‘¨ä¸“é¡¹ä¼˜åŒ–ï¼Œé¢„ç•™ç¼“å†² |
| **ä¾èµ–å¤–éƒ¨æœåŠ¡** | ä¸­ | é«˜ | å…¨é¢ä½¿ç”¨ Mockï¼Œéš”ç¦»æµ‹è¯• |
| **æ•°æ®åº“çŠ¶æ€æ±¡æŸ“** | ä¸­ | ä¸­ | æ¯ä¸ªæµ‹è¯•ç‹¬ç«‹äº‹åŠ¡ï¼Œè‡ªåŠ¨å›æ»š |
| **æµ‹è¯•æ‰§è¡Œæ—¶é—´è¿‡é•¿** | ä½ | ä½ | å¹¶è¡Œæµ‹è¯•ï¼Œé€‰æ‹©æ€§è¿è¡Œ |
| **ä¸šåŠ¡ç†è§£ä¸è¶³** | ä¸­ | ä½ | ä¸ä¸šåŠ¡å¼€å‘äººå‘˜å¯¹é½ |

### 7.2 åº”å¯¹ç­–ç•¥

#### é£é™©1ï¼šæµ‹è¯•æ¡†æ¶é—®é¢˜
- **é¢„é˜²æªæ–½**:
  - Week 1 ä¸“é¡¹ä¼˜åŒ–æµ‹è¯•æ¡†æ¶
  - å»ºç«‹ç¨³å®šçš„ fixture åº“
- **åº”æ€¥æ–¹æ¡ˆ**:
  - å¦‚é‡æ¡†æ¶é—®é¢˜ï¼Œæš‚åœæ–°æ¨¡å—æµ‹è¯•
  - é›†ä¸­ç²¾åŠ›ä¿®å¤æ¡†æ¶
  - å»¶æœŸ 1-2 å¤©

#### é£é™©2ï¼šä¾èµ–å¤–éƒ¨æœåŠ¡
- **é¢„é˜²æªæ–½**:
  - æ‰€æœ‰å¤–éƒ¨ä¾èµ–å…¨é¢ Mock
  - å»ºç«‹ Mock å·¥å…·åº“
- **åº”æ€¥æ–¹æ¡ˆ**:
  - å¦‚ Mock ä¸å¤Ÿï¼Œæš‚ç¼“è¯¥æ¨¡å—
  - è®°å½•å¾…åŠæ¸…å•ï¼Œåç»­è¡¥å……

#### é£é™©3ï¼šè¿›åº¦å»¶è¯¯
- **é¢„é˜²æªæ–½**:
  - æ¯æ—¥æ£€æŸ¥è¿›åº¦
  - è°ƒæ•´ä¼˜å…ˆçº§
- **åº”æ€¥æ–¹æ¡ˆ**:
  - é™ä½ Utils å±‚è¦†ç›–ç‡ç›®æ ‡ï¼ˆ80% â†’ 75%ï¼‰
  - å»¶é•¿ Phase 3 1-2 å‘¨

---

## ğŸ“š å‚è€ƒèµ„æ–™

### 8.1 æµ‹è¯•æ–‡æ¡£

- `coverage_improvement_report.md` - è¦†ç›–ç‡ç°çŠ¶åˆ†æ
- `tests/conftest.py` - æµ‹è¯•é…ç½®
- `README.md` - é¡¹ç›®è¯´æ˜

### 8.2 æŠ€æœ¯æ–‡æ¡£

- `CLAUDE.md` - å¼€å‘æŒ‡å—
- `app/services/` - æœåŠ¡æ¨¡å—æºä»£ç 
- `tests/` - ç°æœ‰æµ‹è¯•æ–‡ä»¶

### 8.3 æœ€ä½³å®è·µ

- Pytest æ–‡æ¡£: https://docs.pytest.org/
- Python Mock æ–‡æ¡£: https://docs.python.org/3/library/unittest.mock.html
- Coverage æ–‡æ¡£: https://coverage.readthedocs.io/

---

## âœ… éªŒæ”¶æ ‡å‡†

### æœ€ç»ˆéªŒæ”¶æ¡ä»¶

- [ ] **è¦†ç›–ç‡æŒ‡æ ‡**
  - [ ] æ€»ä½“è¦†ç›–ç‡ â‰¥80%
  - [ ] Services å±‚è¦†ç›–ç‡ â‰¥80%
  - [ ] API Endpoints è¦†ç›–ç‡ â‰¥50%
  - [ ] Utils å±‚è¦†ç›–ç‡ â‰¥90%
  - [ ] Models å±‚è¦†ç›–ç‡ =100%

- [ ] **æµ‹è¯•å®Œæ•´æ€§**
  - [ ] 122ä¸ªæœåŠ¡æ¨¡å—å®Œæˆæµ‹è¯•
  - [ ] æ‰€æœ‰ P0-P1 æ¨¡å—è¦†ç›–ç‡ â‰¥90%
  - [ ] æ‰€æœ‰ P2-P3 æ¨¡å—è¦†ç›–ç‡ â‰¥75%
  - [ ] æ ¸å¿ƒä¸šåŠ¡æµç¨‹ 100% è¦†ç›–

- [ ] **æµ‹è¯•è´¨é‡**
  - [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆæ— å¤±è´¥ï¼‰
  - [ ] æ— æµ‹è¯•è­¦å‘Š
  - [ ] æµ‹è¯•æ‰§è¡Œæ—¶é—´ <5åˆ†é’Ÿ
  - [ ] æ—  Mock è¿‡åº¦ä½¿ç”¨

- [ ] **æ–‡æ¡£ä¸æŠ¥å‘Š**
  - [ ] æ¯æ—¥è¿›åº¦æŠ¥å‘Šå®Œæ•´
  - [ ] æœ€ç»ˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
  - [ ] æµ‹è¯•æœ€ä½³å®è·µæ–‡æ¡£
  - [ ] æµ‹è¯•æ¡†æ¶ä½¿ç”¨æŒ‡å—

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2026-01-20
**é¢„è®¡å®Œæˆæ—¥æœŸ**: 2026-02-27ï¼ˆ6å‘¨ï¼‰
**è´Ÿè´£äºº**: Sisyphus (AI Agent)

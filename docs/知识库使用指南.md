# 异常知识库使用指南

## 1. 知识库概述

### 1.1 什么是异常知识库
异常知识库是一个集中存储生产异常解决方案的知识管理系统，帮助员工快速查找和参考历史异常的处理经验。

### 1.2 核心价值
- **快速响应**：遇到类似异常时，直接参考历史方案，缩短处理时间
- **经验传承**：老员工经验固化为知识，新员工快速成长
- **持续改进**：统计分析知识使用情况，优化知识质量
- **降低成本**：减少重复性问题的处理成本

### 1.3 知识来源
- 历史异常处理记录
- 专家经验总结
- PDCA改善成果
- 外部最佳实践

## 2. 知识条目结构

### 2.1 基本信息
| 字段 | 说明 | 示例 |
|-----|------|------|
| 标题 | 知识简要描述 | "设备主轴异响处理方法" |
| 异常类型 | EQUIPMENT/QUALITY/MATERIAL/OTHER | EQUIPMENT |
| 异常级别 | MINOR/MAJOR/CRITICAL | MAJOR |

### 2.2 核心内容
| 字段 | 说明 | 重要性 |
|-----|------|--------|
| 症状描述 | 异常现象的详细描述 | ⭐⭐⭐⭐⭐ |
| 解决方案 | 具体的处理方法 | ⭐⭐⭐⭐⭐ |
| 处理步骤 | 分步操作指南 | ⭐⭐⭐⭐ |
| 预防措施 | 如何避免再次发生 | ⭐⭐⭐⭐ |
| 关键词 | 便于搜索的关键词 | ⭐⭐⭐ |

### 2.3 扩展信息
- 来源异常ID
- 附件（图片、视频、文档）
- 创建人、审核人
- 引用次数、成功次数

## 3. 添加知识

### 3.1 谁可以添加
- 技术专家
- 班组长及以上
- 经验丰富的操作员（需审核）

### 3.2 添加流程

#### 步骤1：选择来源
- **从异常创建**：处理完异常后，点击"添加到知识库"
- **手工创建**：直接创建知识条目

#### 步骤2：填写内容
```json
{
  "title": "设备主轴异响处理方法",
  "exception_type": "EQUIPMENT",
  "exception_level": "MAJOR",
  "symptom_description": "设备运行时主轴发出尖锐异响，频率约500Hz，伴随震动",
  "solution": "停机检查主轴轴承，发现润滑脂老化。更换新润滑脂后恢复正常",
  "solution_steps": [
    "1. 立即停机，挂警示牌",
    "2. 拆卸主轴防护罩",
    "3. 清理旧润滑脂",
    "4. 涂抹新润滑脂（型号XXX）",
    "5. 重新装配，低速试运行",
    "6. 确认无异常后恢复生产"
  ],
  "prevention_measures": "每月检查主轴润滑情况，每季度更换润滑脂",
  "keywords": "设备,主轴,异响,润滑,轴承"
}
```

#### 步骤3：提交审核
- 草稿状态：`is_approved = false`
- 审核通过后：`is_approved = true`

### 3.3 API调用

#### 创建知识
```bash
POST /api/v1/production/exception/knowledge
{
  "title": "设备主轴异响处理方法",
  "exception_type": "EQUIPMENT",
  "exception_level": "MAJOR",
  "symptom_description": "设备运行时主轴发出尖锐异响...",
  "solution": "停机检查主轴轴承...",
  "solution_steps": "[\"1. 立即停机\",...]",
  "prevention_measures": "每月检查主轴润滑情况",
  "keywords": "设备,主轴,异响,润滑,轴承",
  "source_exception_id": 123,
  "attachments": "[\"https://xxx/image1.jpg\"]"
}
```

### 3.4 注意事项
- **症状描述要具体**：包含数据、位置、频率等细节
- **解决方案要可操作**：步骤清晰，普通员工能看懂
- **关键词要准确**：从用户搜索角度考虑
- **图片很重要**：一图胜千言

## 4. 搜索知识

### 4.1 搜索方式

#### 方式1：关键词搜索
在搜索框输入关键词，系统会匹配：
- 标题
- 症状描述
- 解决方案
- 关键词字段

**示例**：
```
搜索："设备异响"
结果：匹配所有包含"设备"或"异响"的知识
```

#### 方式2：条件筛选
按异常类型、级别、审核状态筛选。

#### 方式3：智能推荐
系统根据当前异常自动推荐相关知识：
- 类型匹配
- 级别匹配
- 关键词匹配
- 相似度排序

### 4.2 API调用

#### 关键词搜索
```bash
GET /api/v1/production/exception/knowledge/search?keyword=设备异响
```

#### 条件筛选
```bash
GET /api/v1/production/exception/knowledge/search?exception_type=EQUIPMENT&exception_level=MAJOR&is_approved=true
```

#### 分页查询
```bash
GET /api/v1/production/exception/knowledge/search?page=1&page_size=20
```

### 4.3 搜索技巧

#### 技巧1：组合关键词
```
"设备 + 主轴 + 异响" > "设备异响" > "异响"
```
关键词越具体，结果越精准。

#### 技巧2：使用同义词
```
"故障" = "异常" = "问题"
"停机" = "宕机" = "停止运行"
```

#### 技巧3：参考高频知识
引用次数多的知识通常更可靠。

## 5. 使用知识

### 5.1 查看知识详情
点击知识条目，查看完整信息：
- 症状描述
- 解决方案
- 处理步骤
- 预防措施
- 附件下载

### 5.2 应用知识
参考知识处理异常时：
1. 仔细阅读症状描述，确认是否匹配
2. 按步骤执行解决方案
3. 记录处理结果
4. 反馈使用效果

### 5.3 反馈机制
- **成功**：点击"有用"，`success_count + 1`
- **失败**：点击"无用"，并说明原因
- **改进建议**：提交改进意见

### 5.4 使用统计
系统自动记录：
- 引用次数（`reference_count`）
- 成功次数（`success_count`）
- 最后引用时间（`last_referenced_at`）

## 6. 知识审核

### 6.1 审核流程
```
创建 → 待审核 → 专家评审 → 通过/拒绝
```

### 6.2 审核标准
| 维度 | 标准 | 权重 |
|-----|------|------|
| 准确性 | 解决方案有效可行 | 40% |
| 完整性 | 信息齐全，步骤清晰 | 30% |
| 实用性 | 易于理解和执行 | 20% |
| 规范性 | 格式规范，语言专业 | 10% |

### 6.3 审核人
- 技术专家
- 工程师
- 高级班组长

### 6.4 审核周期
- 紧急知识：24小时内审核
- 一般知识：3个工作日内
- 定期知识：每周批量审核

## 7. 知识维护

### 7.1 更新知识
当知识内容需要更新时：
- 原创建人或审核人可直接更新
- 其他人提交更新建议，由审核人审批

### 7.2 淘汰知识
满足以下条件的知识应淘汰：
- 引用次数为0（创建超过6个月）
- 成功率低于30%
- 技术已过时
- 设备已报废

### 7.3 知识归档
重要但不常用的知识：
- 标记为"归档"
- 搜索时不显示
- 需要时可恢复

## 8. 知识统计

### 8.1 个人统计
- 创建知识数
- 知识引用次数
- 知识成功率
- 贡献排名

### 8.2 团队统计
- 知识总数
- 按类型分布
- 按级别分布
- 知识增长趋势

### 8.3 质量指标
| 指标 | 计算方式 | 目标值 |
|-----|---------|-------|
| 知识覆盖率 | 有知识的异常类型/总异常类型 | ≥ 80% |
| 知识有效率 | 成功次数/引用次数 | ≥ 70% |
| 知识利用率 | 引用次数/知识总数 | ≥ 50次/条 |
| 审核通过率 | 通过数/提交数 | ≥ 60% |

## 9. 最佳实践

### 9.1 症状描述示例

#### ❌ 不好的描述
```
"设备有问题"
```
**问题**：太笼统，无法判断具体情况。

#### ✅ 好的描述
```
"A产线3号设备主轴在运行1小时后出现尖锐异响，频率约500Hz，
同时主轴温度从正常的45°C上升至65°C，伴随明显震动。"
```
**优点**：具体、可量化、包含关键信息。

### 9.2 解决方案示例

#### ❌ 不好的方案
```
"更换零件"
```
**问题**：不够具体，操作员不知道如何执行。

#### ✅ 好的方案
```
"1. 停机并挂警示牌
 2. 使用专用工具拆卸主轴防护罩（参考SOP-XXX）
 3. 检查主轴轴承，观察润滑脂颜色（正常为金黄色）
 4. 如润滑脂发黑或干涸，清理后更换新润滑脂（型号：XXX，用量：50g）
 5. 重新装配，手动转动主轴确认顺畅
 6. 低速试运行10分钟，监测温度和异响
 7. 确认正常后恢复生产，记录处理结果"
```
**优点**：步骤详细、可执行、有检查点。

### 9.3 关键词选择

#### ❌ 不好的关键词
```
"问题,处理,方法"
```
**问题**：太宽泛，搜索噪音多。

#### ✅ 好的关键词
```
"设备,主轴,异响,润滑,轴承,温度,震动"
```
**优点**：具体、精准、覆盖多个搜索角度。

## 10. 常见问题

### Q1: 为什么我的知识没通过审核？
A: 常见原因：
- 描述不够具体
- 解决方案不可行
- 缺少关键信息
- 格式不规范

查看审核意见，修改后重新提交。

### Q2: 如何提高知识的引用率？
A: 建议：
- 标题简洁明了
- 关键词准确
- 附上图片或视频
- 定期更新内容

### Q3: 搜索不到我需要的知识怎么办？
A: 尝试：
- 使用不同关键词
- 调整筛选条件
- 查看相似异常
- 联系技术专家

如确实没有相关知识，处理完异常后请添加到知识库。

### Q4: 知识内容有误怎么办？
A: 
- 点击"报告问题"
- 说明错误内容
- 提交修正建议
审核人会及时处理。

## 11. 系统功能

### 11.1 知识管理
- 创建知识
- 更新知识
- 删除知识
- 审核知识

### 11.2 知识搜索
- 关键词搜索
- 条件筛选
- 智能推荐
- 相似知识

### 11.3 统计分析
- 知识列表
- 引用统计
- 成功率分析
- 贡献排名

## 12. 附录

### 12.1 快捷操作
| 功能 | 快捷键 | 说明 |
|-----|--------|------|
| 搜索知识 | Ctrl + K | 打开搜索框 |
| 创建知识 | Ctrl + N | 新建知识 |
| 保存草稿 | Ctrl + S | 保存当前编辑 |

### 12.2 API接口汇总
```
POST   /api/v1/production/exception/knowledge        创建知识
GET    /api/v1/production/exception/knowledge/search 搜索知识
PUT    /api/v1/production/exception/knowledge/{id}   更新知识
DELETE /api/v1/production/exception/knowledge/{id}   删除知识
```

### 12.3 模板下载
- 知识条目模板
- 症状描述模板
- 解决方案模板
- 审核评分表

## 13. 反馈与改进

### 13.1 反馈渠道
- 系统内反馈按钮
- 邮件：knowledge@company.com
- 技术支持群

### 13.2 持续改进
- 每季度回顾知识质量
- 定期培训知识贡献者
- 优化搜索算法
- 引入AI推荐

---

**记住**：知识库的价值在于使用，每个人都是知识的贡献者和受益者。遇到问题，先搜知识库；解决问题，记得分享经验！

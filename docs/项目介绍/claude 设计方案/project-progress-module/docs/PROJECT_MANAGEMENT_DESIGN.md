# 非标自动化行业项目管理部模块设计

## 一、非标自动化行业特点分析

### 1.1 行业特性

非标自动化测试设备行业具有以下显著特点：

```
┌─────────────────────────────────────────────────────────────────────────┐
│                      非标自动化行业核心特点                              │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐         │
│  │   项目制运营    │  │   高度定制化    │  │   多专业协同    │         │
│  │                 │  │                 │  │                 │         │
│  │ • 单件/小批量   │  │ • 无标准产品    │  │ • 机械+电气     │         │
│  │ • 项目周期长    │  │ • 客户需求驱动  │  │ • 软件+调试     │         │
│  │ • 交付压力大    │  │ • 技术方案多变  │  │ • 采购+装配     │         │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘         │
│                                                                         │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐         │
│  │   变更频繁      │  │   资源冲突      │  │   外协依赖      │         │
│  │                 │  │                 │  │                 │         │
│  │ • 需求变更多    │  │ • 多项目并行    │  │ • 加工外协      │         │
│  │ • 设计迭代      │  │ • 人员复用      │  │ • 外购件周期    │         │
│  │ • 现场调整      │  │ • 设备共享      │  │ • 供应商管理    │         │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘         │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.2 项目管理痛点

| 痛点 | 具体表现 | 影响 |
|------|---------|------|
| **进度难控** | 设计反复、加工延期、调试超时 | 项目延期、客户投诉 |
| **成本超支** | 设计变更、返工、加班赶工 | 利润侵蚀 |
| **资源冲突** | 多项目抢人、关键岗位瓶颈 | 效率低下 |
| **信息孤岛** | 各部门数据不通、沟通低效 | 决策滞后 |
| **风险失控** | 技术风险、供应风险、交期风险 | 项目失败 |
| **经验流失** | 项目经验未沉淀、重复踩坑 | 效率无法提升 |

### 1.3 项目典型生命周期

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                          非标自动化项目生命周期                                       │
├─────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                     │
│  售前阶段          立项阶段          执行阶段                    交付阶段           │
│     │                 │                │                           │               │
│     ▼                 ▼                ▼                           ▼               │
│  ┌──────┐         ┌──────┐         ┌──────────────────────────┐  ┌──────┐         │
│  │ 商机 │ ──────→ │ 签约 │ ──────→ │        项目执行          │→ │ 验收 │         │
│  │ 评估 │         │ 立项 │         │                          │  │ 交付 │         │
│  └──────┘         └──────┘         └──────────────────────────┘  └──────┘         │
│     │                 │                        │                      │            │
│     │                 │           ┌────────────┼────────────┐         │            │
│     ▼                 ▼           ▼            ▼            ▼         ▼            │
│  ┌──────┐         ┌──────┐    ┌──────┐    ┌──────┐    ┌──────┐   ┌──────┐        │
│  │方案  │         │技术  │    │设计  │    │采购  │    │装配  │   │客户  │        │
│  │设计  │         │评审  │    │阶段  │    │生产  │    │调试  │   │培训  │        │
│  └──────┘         └──────┘    └──────┘    └──────┘    └──────┘   └──────┘        │
│                                   │            │            │                      │
│                               ┌───┴───┐    ┌───┴───┐    ┌───┴───┐                 │
│                               │机械设计│    │零件加工│    │机械装配│                 │
│                               │电气设计│    │外购件 │    │电气接线│                 │
│                               │软件开发│    │外协件 │    │软件调试│                 │
│                               └───────┘    └───────┘    └───────┘                 │
│                                                                                     │
│  ────────────────────────────────────────────────────────────────────────────────  │
│  典型周期：2-6个月              关键节点多，变更频繁，多专业并行                      │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 二、项目管理部组织架构与职责

### 2.1 组织架构

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          项目管理部组织架构                              │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│                         ┌─────────────────┐                             │
│                         │   项目管理部    │                             │
│                         │     经理        │                             │
│                         └────────┬────────┘                             │
│                                  │                                      │
│           ┌──────────────────────┼──────────────────────┐               │
│           │                      │                      │               │
│           ▼                      ▼                      ▼               │
│   ┌───────────────┐     ┌───────────────┐     ┌───────────────┐        │
│   │  项目管理组   │     │  计划调度组   │     │   PMO/支持组  │        │
│   │               │     │               │     │               │        │
│   │ • 项目经理   │     │ • 计划员      │     │ • 流程制度    │        │
│   │ • 项目助理   │     │ • 调度员      │     │ • 工具平台    │        │
│   │              │     │ • 跟单员      │     │ • 数据分析    │        │
│   └───────────────┘     └───────────────┘     │ • 绩效考核    │        │
│                                               └───────────────┘        │
│                                                                         │
│   项目经理配置：                                                        │
│   • A级项目(100万+): 专职项目经理                                       │
│   • B级项目(50-100万): 1人管2-3个项目                                   │
│   • C级项目(50万以下): 1人管3-5个项目                                   │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 2.2 项目经理职责矩阵

| 职责领域 | 具体工作 | 关键交付物 |
|---------|---------|-----------|
| **项目启动** | 技术交底、团队组建、计划编制 | 项目启动报告、WBS、进度计划 |
| **进度管理** | 日常跟踪、里程碑管控、延期预警 | 周报、进度看板、延期报告 |
| **成本管理** | 预算编制、成本跟踪、超支控制 | 成本预算表、成本分析报告 |
| **质量管理** | 评审组织、问题跟踪、验收把控 | 评审记录、问题清单、验收报告 |
| **风险管理** | 风险识别、应对措施、监控闭环 | 风险登记册、风险报告 |
| **变更管理** | 变更评审、影响分析、执行跟踪 | 变更申请单、影响评估报告 |
| **沟通协调** | 内部协调、客户沟通、供应商对接 | 会议纪要、沟通记录 |
| **资源协调** | 人员协调、设备调度、外协管理 | 资源计划、外协订单 |
| **文档管理** | 技术文档、项目文档、交付文档 | 文档清单、交付物清单 |
| **收尾总结** | 验收交付、经验总结、项目归档 | 验收报告、项目总结、归档资料 |

### 2.3 计划调度职责

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          计划调度组核心职能                              │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                        主生产计划(MPS)                          │   │
│  │  • 根据合同交期倒排项目里程碑                                    │   │
│  │  • 平衡产能与交期                                                │   │
│  │  • 确定关键节点时间                                              │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                  │                                      │
│                    ┌─────────────┼─────────────┐                       │
│                    ▼             ▼             ▼                       │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐           │
│  │    设计计划     │ │    采购计划     │ │    生产计划     │           │
│  │                 │ │                 │ │                 │           │
│  │ • 机械设计排程  │ │ • 物料需求计划  │ │ • 加工排程      │           │
│  │ • 电气设计排程  │ │ • 采购订单跟踪  │ │ • 装配排程      │           │
│  │ • 软件开发排程  │ │ • 到货预警      │ │ • 调试排程      │           │
│  │ • 设计评审安排  │ │ • 外协进度跟踪  │ │ • 资源调度      │           │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘           │
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                        日常调度工作                              │   │
│  │  • 每日晨会：各项目进度汇报、问题协调                            │   │
│  │  • 周例会：里程碑检查、资源调整、风险评估                        │   │
│  │  • 月度会：项目群进度分析、产能规划、预警处理                    │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 三、项目全生命周期管理流程

### 3.1 项目立项流程

```
┌─────────────────────────────────────────────────────────────────────────┐
│                            项目立项流程                                  │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌──────────┐                                                           │
│  │ 合同签订 │                                                           │
│  └────┬─────┘                                                           │
│       │                                                                 │
│       ▼                                                                 │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │                      1. 项目立项申请                              │  │
│  │  • 销售提交立项申请                                               │  │
│  │  • 附：合同、技术协议、售前方案                                   │  │
│  └────┬─────────────────────────────────────────────────────────────┘  │
│       │                                                                 │
│       ▼                                                                 │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │                      2. 项目评审会议                              │  │
│  │  • 参与：项目管理部、技术部、采购部、生产部、财务                 │  │
│  │  • 评审：技术可行性、资源配置、进度安排、成本预算、风险识别       │  │
│  └────┬─────────────────────────────────────────────────────────────┘  │
│       │                                                                 │
│       ▼                                                                 │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │                      3. 项目经理指派                              │  │
│  │  • 根据项目级别、复杂度、当前负荷分配项目经理                     │  │
│  │  • 明确权责、授权范围                                             │  │
│  └────┬─────────────────────────────────────────────────────────────┘  │
│       │                                                                 │
│       ▼                                                                 │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │                      4. 技术交底会                                │  │
│  │  • 售前向项目团队交底：客户需求、技术要点、特殊要求               │  │
│  │  • 明确技术方案、验收标准                                         │  │
│  │  • 形成《技术交底纪要》                                           │  │
│  └────┬─────────────────────────────────────────────────────────────┘  │
│       │                                                                 │
│       ▼                                                                 │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │                      5. 项目启动会                                │  │
│  │  • 团队组建、角色分工                                             │  │
│  │  • WBS分解、进度计划                                              │  │
│  │  • 成本预算、风险登记                                             │  │
│  │  • 形成《项目启动报告》                                           │  │
│  └────┬─────────────────────────────────────────────────────────────┘  │
│       │                                                                 │
│       ▼                                                                 │
│  ┌──────────┐                                                           │
│  │ 项目执行 │                                                           │
│  └──────────┘                                                           │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 3.2 项目执行流程（阶段门模式）

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              项目执行阶段门控制                                       │
├─────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                     │
│  Gate 0         Gate 1         Gate 2         Gate 3         Gate 4        Gate 5  │
│  立项门         设计门         采购门         装配门         调试门        交付门   │
│    │              │              │              │              │              │     │
│    ▼              ▼              ▼              ▼              ▼              ▼     │
│ ┌──────┐      ┌──────┐      ┌──────┐      ┌──────┐      ┌──────┐      ┌──────┐   │
│ │ 启动 │ ───→ │ 设计 │ ───→ │ 采购 │ ───→ │ 装配 │ ───→ │ 调试 │ ───→ │ 交付 │   │
│ │ 阶段 │      │ 阶段 │      │ 生产 │      │ 阶段 │      │ 阶段 │      │ 阶段 │   │
│ └──────┘      └──────┘      └──────┘      └──────┘      └──────┘      └──────┘   │
│                                                                                     │
│ ┌─────────────────────────────────────────────────────────────────────────────────┐│
│ │ Gate 1 设计门准出条件：                                                         ││
│ │ □ 机械3D设计完成并通过评审                                                      ││
│ │ □ 电气原理图完成并通过评审                                                      ││
│ │ □ 软件架构设计完成                                                              ││
│ │ □ BOM清单确认                                                                   ││
│ │ □ 采购长周期物料已识别并下单                                                    ││
│ └─────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                     │
│ ┌─────────────────────────────────────────────────────────────────────────────────┐│
│ │ Gate 2 采购门准出条件：                                                         ││
│ │ □ 2D图纸出图完成（加工件）                                                      ││
│ │ □ 外协加工订单已下达                                                            ││
│ │ □ 标准件/外购件到货率≥80%                                                      ││
│ │ □ 关键外购件已确认交期                                                          ││
│ └─────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                     │
│ ┌─────────────────────────────────────────────────────────────────────────────────┐│
│ │ Gate 3 装配门准出条件：                                                         ││
│ │ □ 机械装配完成                                                                  ││
│ │ □ 电气接线完成                                                                  ││
│ │ □ 气动/液压系统安装完成                                                         ││
│ │ □ 各系统独立测试通过                                                            ││
│ └─────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                     │
│ ┌─────────────────────────────────────────────────────────────────────────────────┐│
│ │ Gate 4 调试门准出条件：                                                         ││
│ │ □ 软件联调完成                                                                  ││
│ │ □ 功能测试全部通过                                                              ││
│ │ □ 性能指标达到合同要求                                                          ││
│ │ □ 内部预验收通过                                                                ││
│ │ □ 操作说明书编写完成                                                            ││
│ └─────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

### 3.3 变更管理流程

```
┌─────────────────────────────────────────────────────────────────────────┐
│                           变更管理流程                                   │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│                        变更来源                                         │
│            ┌──────────────┼──────────────┐                             │
│            ▼              ▼              ▼                             │
│       客户需求变更    内部设计优化    供应问题变更                       │
│            │              │              │                             │
│            └──────────────┼──────────────┘                             │
│                           ▼                                             │
│                  ┌─────────────────┐                                   │
│                  │  变更申请提交   │                                   │
│                  │  填写变更申请单 │                                   │
│                  └────────┬────────┘                                   │
│                           │                                             │
│                           ▼                                             │
│  ┌────────────────────────────────────────────────────────────────┐   │
│  │                      变更影响评估                               │   │
│  │                                                                 │   │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌───────────┐ │   │
│  │  │ 技术影响    │ │ 进度影响    │ │ 成本影响    │ │ 质量影响  │ │   │
│  │  │             │ │             │ │             │ │           │ │   │
│  │  │ • 设计修改  │ │ • 延期天数  │ │ • 材料成本  │ │ • 性能    │ │   │
│  │  │ • 图纸变更  │ │ • 关键路径  │ │ • 加工成本  │ │ • 可靠性  │ │   │
│  │  │ • 软件修改  │ │ • 里程碑    │ │ • 人工成本  │ │ • 安全    │ │   │
│  │  └─────────────┘ └─────────────┘ └─────────────┘ └───────────┘ │   │
│  └────────────────────────────────────────────────────────────────┘   │
│                           │                                             │
│                           ▼                                             │
│              ┌────────────────────────┐                                │
│              │      变更分级评审      │                                │
│              ├────────────────────────┤                                │
│              │ 小变更：项目经理审批   │                                │
│              │ 中变更：部门经理审批   │                                │
│              │ 大变更：变更委员会审批 │                                │
│              │ 客户变更：需客户确认   │                                │
│              └───────────┬────────────┘                                │
│                          │                                              │
│              ┌───────────┴───────────┐                                 │
│              ▼                       ▼                                 │
│         ┌────────┐             ┌────────┐                              │
│         │  批准  │             │  驳回  │                              │
│         └───┬────┘             └────────┘                              │
│             │                                                           │
│             ▼                                                           │
│  ┌──────────────────────────────────────────────────────────────────┐ │
│  │                      变更执行与跟踪                               │ │
│  │  • 更新项目计划、WBS、成本预算                                    │ │
│  │  • 通知相关方、更新文档                                           │ │
│  │  • 跟踪变更执行情况                                               │ │
│  │  • 变更闭环确认                                                   │ │
│  └──────────────────────────────────────────────────────────────────┘ │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 四、项目管理核心功能模块

### 4.1 系统功能架构

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              项目管理系统功能架构                                     │
├─────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                     │
│  ┌───────────────────────────────────────────────────────────────────────────────┐ │
│  │                              项目管理驾驶舱                                    │ │
│  │  项目群看板 │ 资源全景 │ 风险预警 │ 进度热力图 │ 成本分析 │ 交付日历         │ │
│  └───────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                     │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐  │
│  │  项目立项   │ │  进度管理   │ │  成本管理   │ │  质量管理   │ │  风险管理   │  │
│  │             │ │             │ │             │ │             │ │             │  │
│  │ • 立项申请  │ │ • WBS管理   │ │ • 预算编制  │ │ • 评审管理  │ │ • 风险识别  │  │
│  │ • 立项评审  │ │ • 甘特图    │ │ • 成本归集  │ │ • 问题跟踪  │ │ • 风险评估  │  │
│  │ • 项目授权  │ │ • 里程碑    │ │ • 成本分析  │ │ • NCR管理   │ │ • 应对措施  │  │
│  │ • 技术交底  │ │ • 进度跟踪  │ │ • 超支预警  │ │ • 验收管理  │ │ • 风险监控  │  │
│  │ • 启动会议  │ │ • 延期预警  │ │ • 结算管理  │ │ • 质量统计  │ │ • 风险报告  │  │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘  │
│                                                                                     │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐  │
│  │  变更管理   │ │  资源管理   │ │  外协管理   │ │  文档管理   │ │  收尾总结   │  │
│  │             │ │             │ │             │ │             │ │             │  │
│  │ • 变更申请  │ │ • 人员分配  │ │ • 外协订单  │ │ • 技术文档  │ │ • 验收交付  │  │
│  │ • 影响评估  │ │ • 负荷分析  │ │ • 进度跟踪  │ │ • 项目文档  │ │ • 尾款回收  │  │
│  │ • 变更审批  │ │ • 冲突预警  │ │ • 质量检验  │ │ • 版本管理  │ │ • 经验总结  │  │
│  │ • 执行跟踪  │ │ • 资源调度  │ │ • 供应商评价│ │ • 权限控制  │ │ • 项目归档  │  │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘  │
│                                                                                     │
│  ┌───────────────────────────────────────────────────────────────────────────────┐ │
│  │                              基础支撑功能                                      │ │
│  │  工时填报 │ 消息通知 │ 会议管理 │ 日志管理 │ 报表中心 │ 系统集成            │ │
│  └───────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

### 4.2 项目驾驶舱

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              项目管理驾驶舱                                          │
├─────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                     │
│  ┌───────────────────────────────────────────────────────────────────────────────┐ │
│  │ 项目概览                                                          2025年1月   │ │
│  ├─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬────────┤ │
│  │ 在建项目 │ 本月交付 │ 延期预警 │ 成本预警 │ A级项目 │ B级项目 │ C级项目 │ 总金额 │ │
│  │   28    │    5    │    3    │    2    │    8    │   12    │    8    │ 2850万 │ │
│  └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴────────┘ │
│                                                                                     │
│  ┌────────────────────────────────────┐ ┌────────────────────────────────────────┐ │
│  │ 项目阶段分布                       │ │ 月度交付计划                           │ │
│  │                                    │ │                                        │ │
│  │  设计中 ████████████ 12            │ │  1月  ■■■■■ 5                          │ │
│  │  采购中 ████████ 8                 │ │  2月  ■■■■■■■ 7                        │ │
│  │  装配中 ████ 4                     │ │  3月  ■■■■■■■■■ 9                      │ │
│  │  调试中 ████ 4                     │ │  4月  ■■■■■■ 6                         │ │
│  │                                    │ │                                        │ │
│  └────────────────────────────────────┘ └────────────────────────────────────────┘ │
│                                                                                     │
│  ┌───────────────────────────────────────────────────────────────────────────────┐ │
│  │ 重点项目跟踪                                                                   │ │
│  ├──────────────────────────┬──────┬──────┬──────┬──────┬─────────────┬─────────┤ │
│  │ 项目名称                 │ 级别 │ 阶段 │ 进度 │ 偏差 │ 计划交付    │ 状态    │ │
│  ├──────────────────────────┼──────┼──────┼──────┼──────┼─────────────┼─────────┤ │
│  │ XX汽车传感器测试设备     │  A   │ 调试 │ 85%  │ +3d  │ 2025-01-15  │ 🟡 预警 │ │
│  │ YY新能源电池测试线       │  A   │ 装配 │ 60%  │  0   │ 2025-02-20  │ 🟢 正常 │ │
│  │ ZZ医疗器械检测设备       │  A   │ 设计 │ 40%  │ -2d  │ 2025-03-10  │ 🟢 正常 │ │
│  │ AA连接器寿命测试机       │  B   │ 采购 │ 55%  │ +5d  │ 2025-01-25  │ 🔴 延期 │ │
│  └──────────────────────────┴──────┴──────┴──────┴──────┴─────────────┴─────────┘ │
│                                                                                     │
│  ┌────────────────────────────────────┐ ┌────────────────────────────────────────┐ │
│  │ 资源负荷热力图                     │ │ 风险TOP5                               │ │
│  │                                    │ │                                        │ │
│  │ 机械组  ████████████████ 120%      │ │ 1. XX项目关键件到货延期     🔴 高     │ │
│  │ 电气组  ████████████ 95%           │ │ 2. YY项目客户需求变更频繁   🟠 中高   │ │
│  │ 软件组  ██████████████ 105%        │ │ 3. ZZ项目技术方案待验证     🟠 中高   │ │
│  │ 装配组  ████████ 80%               │ │ 4. AA项目外协加工质量风险   🟡 中     │ │
│  │ 调试组  ██████████████ 110%        │ │ 5. BB项目人员调配困难       🟡 中     │ │
│  │                                    │ │                                        │ │
│  └────────────────────────────────────┘ └────────────────────────────────────────┘ │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

### 4.3 非标自动化WBS模板

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                          非标自动化设备项目WBS模板                                    │
├─────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                     │
│  📁 1. 项目管理                                                                     │
│  ├── 1.1 项目启动                                                                  │
│  │   ├── 1.1.1 技术交底会                                                          │
│  │   ├── 1.1.2 项目启动会                                                          │
│  │   └── 1.1.3 项目计划编制                                                        │
│  ├── 1.2 项目监控                                                                  │
│  │   ├── 1.2.1 周例会                                                              │
│  │   ├── 1.2.2 进度跟踪                                                            │
│  │   └── 1.2.3 风险管理                                                            │
│  └── 1.3 项目收尾                                                                  │
│      ├── 1.3.1 验收交付                                                            │
│      └── 1.3.2 项目总结                                                            │
│                                                                                     │
│  📁 2. 机械设计                                                                     │
│  ├── 2.1 方案设计                                                                  │
│  │   ├── 2.1.1 总体方案设计                                                        │
│  │   ├── 2.1.2 方案评审                                                            │
│  │   └── 2.1.3 方案确认                                                            │
│  ├── 2.2 详细设计                                                                  │
│  │   ├── 2.2.1 3D建模                                                              │
│  │   ├── 2.2.2 运动仿真                                                            │
│  │   ├── 2.2.3 干涉检查                                                            │
│  │   └── 2.2.4 设计评审                                                            │
│  └── 2.3 出图                                                                      │
│      ├── 2.3.1 加工图纸                                                            │
│      ├── 2.3.2 装配图纸                                                            │
│      └── 2.3.3 BOM确认                                                             │
│                                                                                     │
│  📁 3. 电气设计                                                                     │
│  ├── 3.1 方案设计                                                                  │
│  │   ├── 3.1.1 控制方案设计                                                        │
│  │   ├── 3.1.2 元器件选型                                                          │
│  │   └── 3.1.3 方案评审                                                            │
│  ├── 3.2 详细设计                                                                  │
│  │   ├── 3.2.1 原理图设计                                                          │
│  │   ├── 3.2.2 接线图设计                                                          │
│  │   ├── 3.2.3 布局图设计                                                          │
│  │   └── 3.2.4 设计评审                                                            │
│  └── 3.3 电气BOM                                                                   │
│      └── 3.3.1 电气物料清单                                                        │
│                                                                                     │
│  📁 4. 软件开发                                                                     │
│  ├── 4.1 需求分析                                                                  │
│  │   ├── 4.1.1 功能需求分析                                                        │
│  │   ├── 4.1.2 界面需求确认                                                        │
│  │   └── 4.1.3 接口需求（MES/其他）                                                │
│  ├── 4.2 程序开发                                                                  │
│  │   ├── 4.2.1 PLC程序开发                                                         │
│  │   ├── 4.2.2 HMI界面开发                                                         │
│  │   ├── 4.2.3 上位机开发                                                          │
│  │   └── 4.2.4 接口开发                                                            │
│  └── 4.3 软件测试                                                                  │
│      ├── 4.3.1 单元测试                                                            │
│      └── 4.3.2 集成测试                                                            │
│                                                                                     │
│  📁 5. 采购与外协                                                                   │
│  ├── 5.1 物料采购                                                                  │
│  │   ├── 5.1.1 长周期物料采购                                                      │
│  │   ├── 5.1.2 标准件采购                                                          │
│  │   └── 5.1.3 电气元件采购                                                        │
│  └── 5.2 外协加工                                                                  │
│      ├── 5.2.1 机加工件外协                                                        │
│      ├── 5.2.2 钣金件外协                                                          │
│      └── 5.2.3 表面处理外协                                                        │
│                                                                                     │
│  📁 6. 装配                                                                         │
│  ├── 6.1 机械装配                                                                  │
│  │   ├── 6.1.1 框架装配                                                            │
│  │   ├── 6.1.2 工位装配                                                            │
│  │   ├── 6.1.3 治具安装                                                            │
│  │   └── 6.1.4 气动系统安装                                                        │
│  ├── 6.2 电气装配                                                                  │
│  │   ├── 6.2.1 电柜装配                                                            │
│  │   ├── 6.2.2 现场布线                                                            │
│  │   └── 6.2.3 电气检查                                                            │
│  └── 6.3 装配检验                                                                  │
│      └── 6.3.1 装配质量检查                                                        │
│                                                                                     │
│  📁 7. 调试                                                                         │
│  ├── 7.1 单机调试                                                                  │
│  │   ├── 7.1.1 机械调试                                                            │
│  │   ├── 7.1.2 电气调试                                                            │
│  │   └── 7.1.3 软件调试                                                            │
│  ├── 7.2 联调                                                                      │
│  │   ├── 7.2.1 系统联调                                                            │
│  │   ├── 7.2.2 功能验证                                                            │
│  │   └── 7.2.3 性能测试                                                            │
│  └── 7.3 内部验收                                                                  │
│      └── 7.3.1 内部预验收                                                          │
│                                                                                     │
│  📁 8. 交付                                                                         │
│  ├── 8.1 客户验收                                                                  │
│  │   ├── 8.1.1 FAT测试                                                             │
│  │   └── 8.1.2 FAT问题整改                                                         │
│  ├── 8.2 现场安装                                                                  │
│  │   ├── 8.2.1 设备发运                                                            │
│  │   ├── 8.2.2 现场安装                                                            │
│  │   └── 8.2.3 现场调试                                                            │
│  ├── 8.3 SAT验收                                                                   │
│  │   ├── 8.3.1 现场验收测试                                                        │
│  │   └── 8.3.2 验收签字                                                            │
│  └── 8.4 培训与移交                                                                │
│      ├── 8.4.1 操作培训                                                            │
│      ├── 8.4.2 维护培训                                                            │
│      └── 8.4.3 文档移交                                                            │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 五、关键业务场景设计

### 5.1 场景一：多项目资源协调

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              多项目资源冲突协调                                       │
├─────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                     │
│  问题场景：                                                                         │
│  • 3个A级项目同时进入调试阶段                                                       │
│  • 调试工程师只有5人，需求8人                                                       │
│  • 客户交期都很紧迫                                                                 │
│                                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │ 资源冲突看板                                                                 │   │
│  ├───────────────────────────────────────┬─────────────────────────────────────┤   │
│  │ 调试组资源需求                        │ 冲突分析                            │   │
│  │                                       │                                     │   │
│  │ XX汽车项目  ████████ 3人 (1/10-1/20)  │ 冲突期：1月10日-1月25日             │   │
│  │ YY新能源项目 ██████ 2人 (1/8-1/25)    │ 需求：8人                           │   │
│  │ ZZ医疗项目  ██████ 3人 (1/15-1/30)    │ 可用：5人                           │   │
│  │                                       │ 缺口：3人                           │   │
│  └───────────────────────────────────────┴─────────────────────────────────────┘   │
│                                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │ 解决方案建议                                                                 │   │
│  ├─────────────────────────────────────────────────────────────────────────────┤   │
│  │ 方案1：优先级调整                                                            │   │
│  │   • XX项目最紧急（客户催促），优先保障3人                                    │   │
│  │   • YY项目可协商延期5天                                                      │   │
│  │   • ZZ项目推迟启动，等待XX项目完成后资源释放                                 │   │
│  │                                                                               │   │
│  │ 方案2：资源借调                                                              │   │
│  │   • 从装配组借调2名有调试经验的人员                                          │   │
│  │   • 安排加班支持                                                             │   │
│  │                                                                               │   │
│  │ 方案3：外部支援                                                              │   │
│  │   • 聘请外部调试工程师临时支援                                               │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │ 协调会议纪要                                                   2025-01-08    │   │
│  │                                                                               │   │
│  │ 参会：项目管理部经理、XX/YY/ZZ项目经理、调试组长                             │   │
│  │                                                                               │   │
│  │ 决议：                                                                        │   │
│  │ 1. XX项目优先保障，维持原计划                                                │   │
│  │ 2. YY项目与客户协商延期3天，客户已同意                                       │   │
│  │ 3. 装配组借调2人支援调试                                                     │   │
│  │ 4. ZZ项目1月17日启动调试                                                     │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

### 5.2 场景二：关键物料延期预警

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              关键物料延期预警与应对                                   │
├─────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │ 🔴 紧急预警                                                    2025-01-08    │   │
│  ├─────────────────────────────────────────────────────────────────────────────┤   │
│  │                                                                               │   │
│  │ 项目：XX汽车传感器测试设备                                                    │   │
│  │ 物料：基恩士激光位移传感器 LK-G5001                                          │   │
│  │ 数量：4套                                                                     │   │
│  │ 原计划到货：2025-01-10                                                        │   │
│  │ 供应商反馈：延期至2025-01-20                                                  │   │
│  │ 延期天数：10天                                                                │   │
│  │                                                                               │   │
│  │ 影响分析：                                                                    │   │
│  │ • 该传感器是测试工位核心部件                                                 │   │
│  │ • 必须等传感器到货才能进行调试                                               │   │
│  │ • 项目交期：2025-01-25                                                        │   │
│  │ • 预计影响：项目延期7-10天                                                    │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │ 应对措施                                                                      │   │
│  ├─────────────────────────────────────────────────────────────────────────────┤   │
│  │                                                                               │   │
│  │ □ 方案A：催货 - 向供应商施压要求加急，争取提前5天                            │   │
│  │   责任人：采购部张经理    截止时间：1月9日                                    │   │
│  │                                                                               │   │
│  │ □ 方案B：替代方案 - 寻找国产替代传感器                                       │   │
│  │   责任人：技术部李工      截止时间：1月10日                                   │   │
│  │                                                                               │   │
│  │ □ 方案C：调整计划 - 先完成其他工位调试，该工位后调                           │   │
│  │   责任人：项目经理        截止时间：1月9日                                    │   │
│  │                                                                               │   │
│  │ □ 方案D：客户沟通 - 提前告知客户风险，协商交期                               │   │
│  │   责任人：销售王总        截止时间：1月10日                                   │   │
│  │                                                                               │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │ 最终决策                                                       2025-01-09    │   │
│  │                                                                               │   │
│  │ • 采购成功将交期提前至1月15日                                                 │   │
│  │ • 技术确认国产松下传感器可作为备选                                            │   │
│  │ • 调整调试顺序，其他工位先调                                                  │   │
│  │ • 销售已与客户沟通，客户同意延期3天至1月28日交付                              │   │
│  │ • 项目恢复绿色状态                                                            │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

### 5.3 场景三：客户需求变更

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              客户需求变更处理                                         │
├─────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │ 变更申请单                                            变更编号：ECR-2025-018 │   │
│  ├─────────────────────────────────────────────────────────────────────────────┤   │
│  │ 项目名称：YY新能源电池测试线                                                  │   │
│  │ 变更提出人：客户技术部                                                        │   │
│  │ 变更类型：☑客户需求 □设计优化 □供应变更 □其他                               │   │
│  │ 变更等级：☑大变更 □中变更 □小变更                                           │   │
│  ├─────────────────────────────────────────────────────────────────────────────┤   │
│  │ 变更内容：                                                                    │   │
│  │ 1. 增加一个测试工位（气密性测试）                                            │   │
│  │ 2. 测试节拍从30秒改为25秒                                                    │   │
│  │ 3. 增加MES系统对接功能                                                       │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │ 影响评估                                                                      │   │
│  ├───────────────────────────┬─────────────────────────────────────────────────┤   │
│  │ 评估项目                  │ 评估结果                                         │   │
│  ├───────────────────────────┼─────────────────────────────────────────────────┤   │
│  │ 技术可行性                │ ✓ 可行，需增加气密检测模块                       │   │
│  │ 进度影响                  │ 延期15天（设计+5天，采购+5天，装调+5天）         │   │
│  │ 成本影响                  │ 增加约12万元（材料8万+人工4万）                  │   │
│  │ 资源影响                  │ 需增加机械设计1人×10天，软件1人×8天             │   │
│  │ 风险评估                  │ 气密检测精度需验证，MES对接需客户配合           │   │
│  ├───────────────────────────┴─────────────────────────────────────────────────┤   │
│  │ 评估人员：机械-张工，电气-李工，软件-王工，采购-赵经理                        │   │
│  │ 评估日期：2025-01-08                                                          │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │ 审批流程                                                                      │   │
│  ├─────────────────────────────────────────────────────────────────────────────┤   │
│  │                                                                               │   │
│  │  项目经理 ──→ 技术经理 ──→ 项目管理部经理 ──→ 商务确认 ──→ 客户签字         │   │
│  │     ✓          ✓              ✓               待审         待审              │   │
│  │                                                                               │   │
│  │  审批意见：                                                                   │   │
│  │  • 项目经理：同意，需客户承担增加费用                                         │   │
│  │  • 技术经理：技术可行，建议与客户确认气密测试标准                            │   │
│  │  • 部门经理：同意，请销售与客户签订补充协议                                  │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 六、数据库设计

### 6.1 核心表结构

```sql
-- =====================================================
-- 项目管理部核心数据库设计
-- =====================================================

-- 1. 项目主表（扩展）
CREATE TABLE pm_project (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    project_code VARCHAR(32) NOT NULL COMMENT '项目编号',
    project_name VARCHAR(200) NOT NULL COMMENT '项目名称',
    
    -- 项目分类
    project_level ENUM('A', 'B', 'C') NOT NULL COMMENT '项目级别',
    project_type VARCHAR(50) COMMENT '项目类型：新建/改造/维保',
    industry VARCHAR(50) COMMENT '所属行业',
    product_type VARCHAR(100) COMMENT '产品类型',
    
    -- 客户信息
    customer_id BIGINT COMMENT '客户ID',
    customer_name VARCHAR(100) COMMENT '客户名称',
    customer_contact VARCHAR(50) COMMENT '客户联系人',
    customer_phone VARCHAR(20) COMMENT '联系电话',
    
    -- 合同信息
    contract_no VARCHAR(50) COMMENT '合同编号',
    contract_amount DECIMAL(14,2) COMMENT '合同金额',
    payment_terms TEXT COMMENT '付款条款',
    
    -- 时间节点
    sign_date DATE COMMENT '签约日期',
    plan_start_date DATE COMMENT '计划开始日期',
    plan_end_date DATE COMMENT '计划结束日期',
    actual_start_date DATE COMMENT '实际开始日期',
    actual_end_date DATE COMMENT '实际结束日期',
    delivery_date DATE COMMENT '合同交付日期',
    
    -- 项目团队
    project_manager_id BIGINT COMMENT '项目经理ID',
    project_manager_name VARCHAR(50) COMMENT '项目经理',
    sales_id BIGINT COMMENT '销售负责人ID',
    sales_name VARCHAR(50) COMMENT '销售负责人',
    
    -- 状态
    stage ENUM('initiation', 'design', 'procurement', 'assembly', 'debugging', 'delivery', 'closed') 
        DEFAULT 'initiation' COMMENT '项目阶段',
    status ENUM('normal', 'warning', 'delayed', 'suspended', 'closed') DEFAULT 'normal' COMMENT '项目状态',
    
    -- 进度成本
    progress_percent INT DEFAULT 0 COMMENT '整体进度',
    budget_amount DECIMAL(14,2) COMMENT '预算金额',
    actual_cost DECIMAL(14,2) DEFAULT 0 COMMENT '实际成本',
    
    -- 风险评级
    risk_level ENUM('low', 'medium', 'high', 'critical') DEFAULT 'low' COMMENT '风险等级',
    
    -- 系统字段
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT,
    
    INDEX idx_project_code (project_code),
    INDEX idx_customer (customer_id),
    INDEX idx_manager (project_manager_id),
    INDEX idx_stage (stage),
    INDEX idx_status (status)
) COMMENT '项目主表';


-- 2. 项目里程碑表
CREATE TABLE pm_milestone (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    project_id BIGINT NOT NULL COMMENT '项目ID',
    
    -- 里程碑信息
    milestone_code VARCHAR(20) COMMENT '里程碑编码',
    milestone_name VARCHAR(100) NOT NULL COMMENT '里程碑名称',
    milestone_type ENUM('gate', 'delivery', 'review', 'payment', 'other') COMMENT '里程碑类型',
    
    -- 时间
    plan_date DATE NOT NULL COMMENT '计划日期',
    actual_date DATE COMMENT '实际完成日期',
    
    -- 状态
    status ENUM('pending', 'in_progress', 'completed', 'delayed', 'cancelled') DEFAULT 'pending',
    
    -- 准出条件
    gate_criteria TEXT COMMENT '准出条件（JSON）',
    
    -- 关联收款
    payment_amount DECIMAL(14,2) COMMENT '关联收款金额',
    payment_status ENUM('pending', 'invoiced', 'received') COMMENT '收款状态',
    
    -- 排序
    sort_order INT DEFAULT 0,
    
    -- 系统字段
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_project (project_id),
    INDEX idx_plan_date (plan_date)
) COMMENT '项目里程碑表';


-- 3. 项目变更表
CREATE TABLE pm_change_request (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    change_no VARCHAR(32) NOT NULL COMMENT '变更编号',
    project_id BIGINT NOT NULL COMMENT '项目ID',
    
    -- 变更信息
    title VARCHAR(200) NOT NULL COMMENT '变更标题',
    change_type ENUM('customer', 'design', 'supply', 'other') COMMENT '变更类型',
    change_level ENUM('small', 'medium', 'large') COMMENT '变更等级',
    description TEXT COMMENT '变更描述',
    reason TEXT COMMENT '变更原因',
    
    -- 影响评估
    schedule_impact INT COMMENT '进度影响(天)',
    cost_impact DECIMAL(12,2) COMMENT '成本影响(元)',
    resource_impact TEXT COMMENT '资源影响',
    risk_impact TEXT COMMENT '风险影响',
    
    -- 审批流程
    status ENUM('draft', 'submitted', 'evaluating', 'approved', 'rejected', 'executing', 'closed') 
        DEFAULT 'draft' COMMENT '状态',
    
    -- 申请人
    applicant_id BIGINT COMMENT '申请人ID',
    applicant_name VARCHAR(50) COMMENT '申请人',
    apply_time DATETIME COMMENT '申请时间',
    
    -- 审批信息
    approvals JSON COMMENT '审批记录',
    
    -- 执行信息
    execute_status ENUM('pending', 'executing', 'completed') COMMENT '执行状态',
    execute_result TEXT COMMENT '执行结果',
    
    -- 系统字段
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_change_no (change_no),
    INDEX idx_project (project_id),
    INDEX idx_status (status)
) COMMENT '项目变更表';


-- 4. 项目风险表
CREATE TABLE pm_risk (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    project_id BIGINT NOT NULL COMMENT '项目ID',
    
    -- 风险信息
    risk_code VARCHAR(20) COMMENT '风险编号',
    risk_title VARCHAR(200) NOT NULL COMMENT '风险标题',
    risk_category ENUM('technical', 'schedule', 'cost', 'resource', 'supply', 'quality', 'customer', 'other') 
        COMMENT '风险类别',
    description TEXT COMMENT '风险描述',
    
    -- 风险评估
    probability ENUM('low', 'medium', 'high') COMMENT '发生概率',
    impact ENUM('low', 'medium', 'high', 'critical') COMMENT '影响程度',
    risk_level ENUM('low', 'medium', 'high', 'critical') COMMENT '风险等级',
    
    -- 应对措施
    response_strategy ENUM('avoid', 'mitigate', 'transfer', 'accept') COMMENT '应对策略',
    response_plan TEXT COMMENT '应对措施',
    
    -- 责任人
    owner_id BIGINT COMMENT '责任人ID',
    owner_name VARCHAR(50) COMMENT '责任人',
    
    -- 状态
    status ENUM('identified', 'monitoring', 'occurring', 'resolved', 'closed') DEFAULT 'identified',
    
    -- 跟踪
    last_review_date DATE COMMENT '最近评审日期',
    
    -- 系统字段
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_project (project_id),
    INDEX idx_level (risk_level),
    INDEX idx_status (status)
) COMMENT '项目风险表';


-- 5. 项目问题表
CREATE TABLE pm_issue (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    project_id BIGINT NOT NULL COMMENT '项目ID',
    task_id BIGINT COMMENT '关联任务ID',
    
    -- 问题信息
    issue_code VARCHAR(20) COMMENT '问题编号',
    title VARCHAR(200) NOT NULL COMMENT '问题标题',
    issue_type ENUM('technical', 'quality', 'schedule', 'resource', 'customer', 'other') COMMENT '问题类型',
    severity ENUM('low', 'medium', 'high', 'critical') COMMENT '严重程度',
    description TEXT COMMENT '问题描述',
    
    -- 责任人
    reporter_id BIGINT COMMENT '提出人ID',
    reporter_name VARCHAR(50) COMMENT '提出人',
    assignee_id BIGINT COMMENT '负责人ID',
    assignee_name VARCHAR(50) COMMENT '负责人',
    
    -- 时间
    report_date DATETIME COMMENT '提出时间',
    due_date DATE COMMENT '要求解决日期',
    resolve_date DATETIME COMMENT '实际解决时间',
    
    -- 状态
    status ENUM('open', 'in_progress', 'resolved', 'closed', 'cancelled') DEFAULT 'open',
    
    -- 解决方案
    solution TEXT COMMENT '解决方案',
    
    -- 系统字段
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_project (project_id),
    INDEX idx_status (status),
    INDEX idx_severity (severity)
) COMMENT '项目问题表';


-- 6. 项目评审表
CREATE TABLE pm_review (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    project_id BIGINT NOT NULL COMMENT '项目ID',
    
    -- 评审信息
    review_type ENUM('design', 'gate', 'milestone', 'customer', 'internal') COMMENT '评审类型',
    review_name VARCHAR(100) NOT NULL COMMENT '评审名称',
    review_date DATE COMMENT '评审日期',
    
    -- 评审内容
    review_items JSON COMMENT '评审项（JSON数组）',
    
    -- 参与人
    participants JSON COMMENT '参与人',
    
    -- 结果
    result ENUM('pass', 'pass_with_condition', 'fail', 'cancelled') COMMENT '评审结果',
    conclusion TEXT COMMENT '评审结论',
    action_items JSON COMMENT '行动项',
    
    -- 附件
    attachments JSON COMMENT '附件',
    
    -- 系统字段
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_project (project_id),
    INDEX idx_review_date (review_date)
) COMMENT '项目评审表';


-- 7. 项目成本表
CREATE TABLE pm_cost (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    project_id BIGINT NOT NULL COMMENT '项目ID',
    
    -- 成本类别
    cost_category VARCHAR(50) COMMENT '成本类别',
    cost_item VARCHAR(100) COMMENT '成本项',
    
    -- 预算
    budget_amount DECIMAL(12,2) DEFAULT 0 COMMENT '预算金额',
    
    -- 实际
    actual_amount DECIMAL(12,2) DEFAULT 0 COMMENT '实际金额',
    
    -- 来源
    source_type VARCHAR(50) COMMENT '来源类型：采购/外协/人工/其他',
    source_id BIGINT COMMENT '来源ID',
    source_no VARCHAR(50) COMMENT '来源单号',
    
    -- 时间
    cost_date DATE COMMENT '发生日期',
    
    -- 备注
    remark VARCHAR(500) COMMENT '备注',
    
    -- 系统字段
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    
    INDEX idx_project (project_id),
    INDEX idx_category (cost_category),
    INDEX idx_cost_date (cost_date)
) COMMENT '项目成本表';


-- 8. 资源分配表
CREATE TABLE pm_resource_allocation (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    project_id BIGINT NOT NULL COMMENT '项目ID',
    task_id BIGINT COMMENT '任务ID',
    
    -- 资源信息
    resource_type ENUM('human', 'equipment', 'material') COMMENT '资源类型',
    resource_id BIGINT COMMENT '资源ID',
    resource_name VARCHAR(100) COMMENT '资源名称',
    
    -- 分配信息
    role VARCHAR(50) COMMENT '角色',
    allocation_percent INT DEFAULT 100 COMMENT '分配比例%',
    
    -- 时间
    start_date DATE COMMENT '开始日期',
    end_date DATE COMMENT '结束日期',
    planned_hours DECIMAL(10,2) COMMENT '计划工时',
    actual_hours DECIMAL(10,2) DEFAULT 0 COMMENT '实际工时',
    
    -- 状态
    status ENUM('planned', 'active', 'completed', 'cancelled') DEFAULT 'planned',
    
    -- 系统字段
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_project (project_id),
    INDEX idx_resource (resource_id),
    INDEX idx_date_range (start_date, end_date)
) COMMENT '资源分配表';


-- 9. 外协跟踪表
CREATE TABLE pm_outsource (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    project_id BIGINT NOT NULL COMMENT '项目ID',
    
    -- 外协订单信息
    order_no VARCHAR(50) COMMENT '外协订单号',
    order_type ENUM('machining', 'sheet_metal', 'surface', 'assembly', 'other') COMMENT '外协类型',
    
    -- 供应商
    supplier_id BIGINT COMMENT '供应商ID',
    supplier_name VARCHAR(100) COMMENT '供应商名称',
    
    -- 物料信息
    item_name VARCHAR(200) COMMENT '物料名称',
    specification VARCHAR(200) COMMENT '规格',
    quantity DECIMAL(10,2) COMMENT '数量',
    unit VARCHAR(20) COMMENT '单位',
    
    -- 价格
    unit_price DECIMAL(12,2) COMMENT '单价',
    total_amount DECIMAL(12,2) COMMENT '总金额',
    
    -- 时间
    order_date DATE COMMENT '下单日期',
    plan_delivery_date DATE COMMENT '计划交货日期',
    actual_delivery_date DATE COMMENT '实际交货日期',
    
    -- 状态
    status ENUM('ordered', 'processing', 'delivered', 'inspecting', 'completed', 'returned') 
        DEFAULT 'ordered' COMMENT '状态',
    
    -- 质量
    inspection_result ENUM('pass', 'fail', 'pending') COMMENT '检验结果',
    quality_issues TEXT COMMENT '质量问题',
    
    -- 系统字段
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_project (project_id),
    INDEX idx_order_no (order_no),
    INDEX idx_supplier (supplier_id),
    INDEX idx_delivery_date (plan_delivery_date)
) COMMENT '外协跟踪表';


-- 10. 项目日志表
CREATE TABLE pm_project_log (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    project_id BIGINT NOT NULL COMMENT '项目ID',
    
    -- 日志信息
    log_type ENUM('status_change', 'milestone', 'issue', 'risk', 'change', 'cost', 'resource', 'other') 
        COMMENT '日志类型',
    log_content TEXT COMMENT '日志内容',
    
    -- 操作人
    operator_id BIGINT COMMENT '操作人ID',
    operator_name VARCHAR(50) COMMENT '操作人',
    
    -- 时间
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    
    INDEX idx_project (project_id),
    INDEX idx_created_at (created_at)
) COMMENT '项目日志表';


-- 11. 项目模板表
CREATE TABLE pm_project_template (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    
    -- 模板信息
    template_code VARCHAR(20) COMMENT '模板编码',
    template_name VARCHAR(100) NOT NULL COMMENT '模板名称',
    project_type VARCHAR(50) COMMENT '适用项目类型',
    description TEXT COMMENT '模板描述',
    
    -- 模板内容
    wbs_template JSON COMMENT 'WBS模板',
    milestone_template JSON COMMENT '里程碑模板',
    risk_template JSON COMMENT '风险模板',
    checklist_template JSON COMMENT '检查清单模板',
    
    -- 状态
    is_active BOOLEAN DEFAULT TRUE,
    
    -- 使用统计
    use_count INT DEFAULT 0 COMMENT '使用次数',
    
    -- 系统字段
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT
) COMMENT '项目模板表';
```

---

## 七、报表与统计

### 7.1 项目群月度分析报表

| 指标 | 本月 | 上月 | 同比 | 目标 |
|------|------|------|------|------|
| 在建项目数 | 28 | 25 | +12% | - |
| 新立项数 | 8 | 6 | +33% | 6 |
| 交付项目数 | 5 | 4 | +25% | 5 |
| 按期交付率 | 80% | 75% | +5% | 85% |
| 平均延期天数 | 8天 | 12天 | -33% | <7天 |
| 变更次数 | 15 | 18 | -17% | <15 |
| 客户满意度 | 4.5 | 4.3 | +0.2 | ≥4.5 |
| 成本偏差率 | 5% | 8% | -3% | <5% |

### 7.2 项目经理绩效统计

| 项目经理 | 在管项目 | 按期率 | 成本控制 | 客户满意 | 综合得分 |
|---------|---------|--------|---------|---------|---------|
| 张经理 | 5 | 100% | 98% | 4.8 | 95 |
| 李经理 | 4 | 75% | 102% | 4.5 | 82 |
| 王经理 | 6 | 83% | 95% | 4.6 | 88 |

---

## 八、实施建议

### 8.1 实施阶段

| 阶段 | 内容 | 周期 | 优先级 |
|------|------|------|--------|
| **一期** | 项目立项、WBS、进度管理、里程碑 | 6周 | 高 |
| **二期** | 变更管理、风险管理、问题跟踪 | 4周 | 高 |
| **三期** | 成本管理、资源管理、外协管理 | 4周 | 中 |
| **四期** | 驾驶舱、报表、模板库、知识库 | 3周 | 中 |
| **五期** | 移动端、企业微信集成、系统对接 | 3周 | 低 |

### 8.2 关键成功因素

1. **高层支持** - 项目管理规范化需要公司层面推动
2. **流程梳理** - 先梳理清楚业务流程再系统化
3. **数据准确** - 进度、成本数据要及时准确录入
4. **持续改进** - 根据实际使用不断优化系统
5. **培训到位** - 项目经理、工程师都要熟练使用

---

## 九、总结

非标自动化行业项目管理的核心价值：

1. **项目可视** - 多项目一目了然，问题早发现
2. **进度可控** - 里程碑管控，延期早预警
3. **成本可管** - 预算对标，超支可追溯
4. **资源可调** - 负荷透明，冲突可协调
5. **风险可防** - 识别评估，应对有措施
6. **经验可传** - 模板沉淀，知识可复用

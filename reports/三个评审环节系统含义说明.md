# 三个评审环节在系统中的具体含义

> **文档日期**: 2025-01-20  
> **系统版本**: v1.0

---

## 一、概述

系统中有三个不同的评审环节，分别在不同的业务阶段进行，具有不同的目的和功能：

1. **客户需求评估**（Technical Assessment）- 售前阶段
2. **立项评审**（Project Initiation）- 项目启动前
3. **技术方案评审**（Technical Review）- 项目执行阶段

---

## 二、客户需求评估（Technical Assessment）

### 2.1 系统定义

**中文名称**: 客户需求评估 / 技术评估  
**英文名称**: Technical Assessment  
**数据模型**: `TechnicalAssessment`  
**API路径**: `/sales/assessments/*`

### 2.2 在系统中的含义

**业务阶段**: **销售阶段（售前）**

**关联对象**:
- 线索（Lead）
- 商机（Opportunity）

**主要目的**:
- 评估**是否值得投入资源**跟进这个线索/商机
- 判断**技术可行性**、**商务可行性**、**资源可行性**
- 提供**决策建议**：推荐立项/有条件立项/暂缓/不建议立项

**评估内容**:
1. **五维评分**（每个维度20分，总分100分）:
   - 技术维度（Technology）：技术难度、技术成熟度
   - 商务维度（Business）：预算、价格敏感度、决策链
   - 资源维度（Resource）：人员、设备、产能
   - 交付维度（Delivery）：交期、现场条件
   - 客户关系维度（Customer）：客户配合度、历史合作

2. **一票否决检查**: 检查是否有致命风险（如预算不足、技术不可行等）

3. **相似案例匹配**: 基于历史失败案例，识别相似风险

4. **风险分析**: 自动识别高风险维度

5. **立项条件生成**: 如果有条件立项，生成需要满足的条件

### 2.3 系统功能

**核心功能**:
- ✅ 申请技术评估（线索/商机）
- ✅ 执行技术评估（五维评分计算）
- ✅ 查看评估结果（决策建议、风险、相似案例）
- ✅ 评估历史记录

**决策结果**:
- `RECOMMEND` - 推荐立项（总分高，风险低）
- `CONDITIONAL` - 有条件立项（需要满足某些条件）
- `DEFER` - 暂缓（需要更多信息）
- `NOT_RECOMMEND` - 不建议立项（风险高或不可行）

**阶段门集成**:
- **G2阶段门**（商机 → 报价）：可选检查技术可行性初评通过

### 2.4 使用场景

**典型流程**:
```
销售收到线索
  ↓
填写需求详情（LeadRequirementDetail）
  ↓
申请技术评估
  ↓
技术工程师执行评估
  ↓
查看评估结果和决策建议
  ↓
根据评估结果决定是否转为商机/是否报价
```

**参与人员**:
- 销售人员：申请评估、查看结果
- 售前技术支持：协助需求澄清
- 技术评估工程师：执行评估

---

## 三、立项评审（Project Initiation）

### 3.1 系统定义

**中文名称**: 立项评审 / 项目立项评审  
**英文名称**: Project Initiation Review  
**数据模型**: `PmoProjectInitiation`  
**API路径**: `/pmo/initiations/*`

### 3.2 在系统中的含义

**业务阶段**: **项目启动前（S3阶段）**

**关联对象**:
- 项目立项申请（ProjectInitiation）
- 项目（Project）- 评审通过后自动生成

**主要目的**:
- **项目启动前的最后一道关卡**
- 综合评估**技术可行性**和**商务可行性**
- 决定**是否正式启动项目**
- 评审通过后**自动生成项目**并分配项目经理

**评审内容**:
1. **技术可行性评审**:
   - 技术方案是否可行
   - 技术风险是否可控
   - 技术资源是否充足

2. **商务可行性评审**:
   - 合同条款是否合理
   - 成本预算是否准确
   - 毛利率是否达标
   - 付款条件是否可接受

3. **资源评估**:
   - 人员资源是否充足
   - 设备资源是否可用
   - 时间资源是否满足

4. **风险评估**:
   - 项目风险识别
   - 风险应对措施

### 3.3 系统功能

**核心功能**:
- ✅ 创建立项申请
- ✅ 提交立项评审
- ✅ 立项评审通过/驳回
- ✅ 评审通过后自动生成项目
- ✅ 自动分配项目经理
- ✅ 初始化项目阶段（S1-S9）

**评审状态**:
- `DRAFT` - 草稿
- `SUBMITTED` - 已提交
- `REVIEWING` - 评审中
- `APPROVED` - 已通过（自动生成项目）
- `REJECTED` - 已驳回

**项目状态**（S3阶段）:
- `ST06 - 待评审`：等待安排立项评审
- `ST07 - 评审中`：立项评审进行中
- `ST08 - 待签合同`：评审通过，等待签订合同

**阶段门集成**:
- **G2阶段门**（S2 → S3）：需求澄清 → 立项评审
- **G3阶段门**（S3 → S4）：**立项评审通过** + 合同签订 → 方案设计

### 3.4 使用场景

**典型流程**:
```
需求澄清完成(S2)
  ↓
创建立项申请
  ↓
填写立项信息（项目名称、客户、合同信息、预算等）
  ↓
提交立项评审
  ↓
PMO/管理层进行评审
  ↓
评审通过 → 自动生成项目 → 分配项目经理 → 进入S1阶段
评审驳回 → 返回修改或终止
```

**参与人员**:
- 项目经理/售前：创建立项申请
- PMO/部门经理：评审立项申请
- 总经理：重大项目的最终审批

---

## 四、技术方案评审（Technical Review）

### 4.1 系统定义

**中文名称**: 技术方案评审 / 技术评审  
**英文名称**: Technical Review  
**数据模型**: `TechnicalReview`  
**API路径**: `/technical-reviews/*`

### 4.2 在系统中的含义

**业务阶段**: **项目执行阶段（S4方案设计阶段）**

**关联对象**:
- 项目（Project）
- 设备（Machine）- 多设备项目

**主要目的**:
- 对**已设计的技术方案**进行正式评审
- 确保**方案设计的正确性**和**可制造性**
- 识别**设计问题**和**技术风险**
- 决定**是否进入下一阶段**（采购制造）

**评审类型**:
- **PDR** (Preliminary Design Review) - **方案设计评审**（最常用）
- **DDR** (Detailed Design Review) - 详细设计评审
- **PRR** (Production Readiness Review) - 生产准备评审
- **FRR** (Factory Review) - 出厂评审
- **ARR** (Acceptance Review) - 现场评审

### 4.3 系统功能

**核心功能**:
- ✅ 创建技术评审（选择评审类型）
- ✅ 评审人员管理（主持人、汇报人、记录人、评审专家、观察者）
- ✅ 评审材料管理（图纸、BOM、报告、文档等）
- ✅ 检查项记录（Checklist）- 逐项检查设计要点
- ✅ 问题跟踪（Issue Tracking）- 记录评审发现的问题
- ✅ 评审结论管理（通过/有条件通过/不通过/中止）
- ✅ 电子签名和签到管理

**评审状态**:
- `DRAFT` - 草稿
- `PENDING` - 待评审
- `IN_PROGRESS` - 评审中
- `COMPLETED` - 已完成
- `CANCELLED` - 已取消

**评审结论**:
- `PASS` - 通过（可以进入下一阶段）
- `PASS_WITH_CONDITION` - 有条件通过（需要整改后进入下一阶段）
- `REJECT` - 不通过（需要重新设计）
- `ABORT` - 中止（评审中断）

**问题等级**:
- **A类** - 严重问题（阻塞，必须解决）
- **B类** - 重要问题（需优先处理）
- **C类** - 一般问题
- **D类** - 轻微问题

**阶段门集成**:
- **G4阶段门**（S4 → S5）：**方案评审通过** + BOM发布 → 采购制造

### 4.4 使用场景

**典型流程**（以PDR为例）:
```
方案设计完成(S4)
  ↓
创建技术评审（PDR）
  ↓
添加评审参与人（技术专家、设计人员、项目经理等）
  ↓
上传评审材料（方案文档、图纸、BOM等）
  ↓
安排评审会议（时间、地点、会议形式）
  ↓
评审会议进行中
  ↓
记录检查项结果
  ↓
记录发现的问题（A/B/C/D类）
  ↓
形成评审结论
  ↓
评审通过 → 进入采购制造阶段(S5)
评审不通过 → 返回修改方案
```

**参与人员**:
- 销售/售前：发起技术评审
- 技术专家：参与评审，提出专业意见
- 设计人员：汇报方案设计
- 项目经理：组织评审会议
- 质量人员：检查质量要求

---

## 五、三个评审环节的对比

### 5.1 核心区别

| 维度 | 客户需求评估 | 立项评审 | 技术方案评审 |
|:----:|:------------:|:--------:|:------------:|
| **业务阶段** | 销售阶段（售前） | 项目启动前（S3） | 项目执行阶段（S4） |
| **关联对象** | 线索、商机 | 项目立项申请 | 项目、设备 |
| **主要目的** | 是否值得投入资源 | 是否正式启动项目 | 方案设计是否正确 |
| **评估内容** | 需求可行性、技术可行性、商务可行性 | 技术可行性、商务可行性、资源评估 | 方案设计、技术实现、可制造性 |
| **决策结果** | 推荐立项/有条件立项/暂缓/不建议立项 | 通过/驳回 | 通过/有条件通过/不通过/中止 |
| **数据模型** | `TechnicalAssessment` | `PmoProjectInitiation` | `TechnicalReview` |
| **API路径** | `/sales/assessments/*` | `/pmo/initiations/*` | `/technical-reviews/*` |
| **参与人员** | 销售、售前、技术评估工程师 | PMO、部门经理、总经理 | 技术专家、设计人员、项目经理 |
| **评审形式** | 评估报告（五维评分） | 评审会议（通过/驳回） | 评审会议（检查项、问题跟踪） |
| **阶段门** | G2（可选） | G2、G3（必须） | G4（必须） |

### 5.2 时间顺序

```
销售阶段：
  线索 → [客户需求评估] → 商机 → 报价 → 合同

项目阶段：
  需求进入(S1) → 需求澄清(S2) → [立项评审] → 方案设计(S4) → [技术方案评审] → 采购制造(S5)
```

### 5.3 流程衔接

```
客户需求评估（售前）
  ↓ 评估结果：推荐立项/有条件立项
技术可行性初评通过（G2阶段门）
  ↓
报价 → 合同签订
  ↓
项目立项申请
  ↓
立项评审（技术可行性 + 商务可行性）
  ↓ 评审通过
自动生成项目 → 进入S1阶段
  ↓
需求进入 → 需求澄清 → 进入S3阶段
  ↓
立项评审通过（G3阶段门）
  ↓
方案设计（S4）
  ↓
技术方案评审（PDR）
  ↓ 评审通过
BOM发布 → 采购制造（S5）
```

---

## 六、在系统中的具体实现

### 6.1 客户需求评估

**数据表**: `technical_assessments`

**关键字段**:
- `source_type`: LEAD/OPPORTUNITY
- `source_id`: 线索ID或商机ID
- `total_score`: 总分（0-100）
- `dimension_scores`: 五维分数（JSON）
- `decision`: 决策建议
- `risks`: 风险列表（JSON）
- `similar_cases`: 相似案例（JSON）

**前端页面**: `/sales/assessments/:sourceType/:sourceId`

### 6.2 立项评审

**数据表**: `pmo_project_initiations`

**关键字段**:
- `status`: DRAFT/SUBMITTED/REVIEWING/APPROVED/REJECTED
- `review_result`: 评审结果
- `approved_pm_id`: 批准的项目经理ID
- `project_id`: 关联的项目ID（评审通过后生成）

**前端页面**: `/pmo/initiations`（立项管理页面）

### 6.3 技术方案评审

**数据表**: `technical_reviews`

**关键字段**:
- `review_type`: PDR/DDR/PRR/FRR/ARR
- `project_id`: 关联项目ID
- `status`: DRAFT/PENDING/IN_PROGRESS/COMPLETED/CANCELLED
- `conclusion`: PASS/PASS_WITH_CONDITION/REJECT/ABORT
- `issue_count_a/b/c/d`: 各类问题数量

**关联表**:
- `review_participants`: 评审参与人
- `review_materials`: 评审材料
- `review_checklist_records`: 检查项记录
- `review_issues`: 评审问题

**前端页面**: `/technical-reviews`（技术评审列表）

---

## 七、总结

### 7.1 三个评审环节的本质

1. **客户需求评估** = **"要不要做"** 的评估
   - 在销售阶段，评估这个项目是否值得投入资源
   - 通过五维评分和相似案例匹配，提供决策建议

2. **立项评审** = **"能不能做"** 的评审
   - 在项目启动前，综合评估技术可行性和商务可行性
   - 决定是否正式启动项目，评审通过后自动生成项目

3. **技术方案评审** = **"做得对不对"** 的评审
   - 在方案设计完成后，评审方案设计的正确性
   - 通过检查项和问题跟踪，确保方案可以进入制造阶段

### 7.2 系统设计理念

- **客户需求评估**：**辅助决策工具**（可选，但建议使用）
- **立项评审**：**必须通过的关卡**（G2、G3阶段门）
- **技术方案评审**：**必须通过的关卡**（G4阶段门）

### 7.3 实际使用建议

1. **销售阶段**：建议对重要线索/商机进行客户需求评估，帮助判断是否值得投入资源

2. **项目启动前**：必须完成立项评审，确保项目可行性和资源充足

3. **方案设计后**：必须完成技术方案评审（PDR），确保方案设计正确性

---

**文档生成时间**: 2025-01-20  
**分析人员**: AI Assistant

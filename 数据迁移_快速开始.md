# æ•°æ®è¿ç§» - å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5 åˆ†é’Ÿå¿«é€Ÿè¿ç§»

### å‰ææ¡ä»¶

- âœ… Python 3.8+
- âœ… å·²å®‰è£…ä¾èµ– (`pip install -r requirements.txt`)
- âœ… æ•°æ®åº“å·²åŒ…å« `tenants` è¡¨

### ä¸€é”®è¿ç§»ï¼ˆæ¨èï¼‰

```bash
# 1ï¸âƒ£ å¤‡ä»½æ•°æ®åº“ï¼ˆé‡è¦ï¼ï¼‰
cp data/app.db data/app.db.backup_$(date +%Y%m%d_%H%M%S)

# 2ï¸âƒ£ é¢„è§ˆè¿ç§»ï¼ˆå®‰å…¨ï¼Œä¸ä¼šä¿®æ”¹æ•°æ®ï¼‰
python3 scripts/run_tenant_migration.py --dry-run

# 3ï¸âƒ£ æ‰§è¡Œè¿ç§»
python3 scripts/run_tenant_migration.py
# è¾“å…¥ 'YES' ç¡®è®¤

# 4ï¸âƒ£ æŸ¥çœ‹æŠ¥å‘Š
ls -lh data/tenant_migration_report_*.json
```

### éªŒè¯è¿ç§»æˆåŠŸ

```bash
python3 scripts/verify_tenant_migration.py
```

**æœŸæœ›è¾“å‡ºï¼š**
```
âœ… æ‰€æœ‰éªŒè¯é€šè¿‡ï¼
```

---

## ğŸ“‹ åˆ†æ­¥æ‰§è¡Œï¼ˆé«˜çº§ç”¨æˆ·ï¼‰

### æ­¥éª¤ 1: åˆ›å»ºé»˜è®¤ç§Ÿæˆ·

```bash
python3 scripts/create_default_tenant.py
```

### æ­¥éª¤ 2: è¿ç§»æ•°æ®

```bash
# é¢„è§ˆ
python3 scripts/migrate_to_default_tenant.py --dry-run

# æ‰§è¡Œ
python3 scripts/migrate_to_default_tenant.py
```

### æ­¥éª¤ 3: éªŒè¯æ•°æ®

```bash
python3 scripts/verify_tenant_migration.py --output-report data/report.json
```

---

## ğŸ”„ å›æ»šï¼ˆå¦‚éœ€è¦ï¼‰

```bash
# âš ï¸ è­¦å‘Šï¼šæ­¤æ“ä½œä¸å¯é€†ï¼

# é¢„è§ˆå›æ»š
python3 scripts/rollback_tenant_migration.py --dry-run

# æ‰§è¡Œå›æ»š
python3 scripts/rollback_tenant_migration.py --confirm
# è¾“å…¥ 'YES' ç¡®è®¤
```

---

## ğŸ“– è¯¦ç»†æ–‡æ¡£

å®Œæ•´æ–‡æ¡£è¯·æŸ¥çœ‹ï¼š
- ğŸ“˜ [æ•°æ®è¿ç§»æŒ‡å—](docs/æ•°æ®è¿ç§»æŒ‡å—.md)
- ğŸ“Š [äº¤ä»˜æŠ¥å‘Š](Agent_Team_2_æ•°æ®è¿ç§»_äº¤ä»˜æŠ¥å‘Š.md)

---

## â“ å¸¸è§é—®é¢˜

### Q: è¿ç§»å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:** 
1. æŸ¥çœ‹æ—¥å¿—è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯
2. å¦‚æœæ˜¯éƒ¨åˆ†å¤±è´¥ï¼Œä¿®å¤åå¯é‡æ–°è¿è¡Œ
3. å¦‚æœéœ€è¦å®Œå…¨å›é€€ï¼Œä½¿ç”¨å›æ»šè„šæœ¬æˆ–æ¢å¤æ•°æ®åº“å¤‡ä»½

### Q: è¿ç§»éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ

**A:**
- å°å‹ç³»ç»Ÿï¼ˆ< 10ä¸‡æ¡ï¼‰ï¼š1-5 åˆ†é’Ÿ
- ä¸­å‹ç³»ç»Ÿï¼ˆ10ä¸‡-100ä¸‡æ¡ï¼‰ï¼š5-30 åˆ†é’Ÿ
- å¤§å‹ç³»ç»Ÿï¼ˆ> 100ä¸‡æ¡ï¼‰ï¼šå¯èƒ½éœ€è¦æ•°å°æ—¶

### Q: å¯ä»¥ä¸­æ–­è¿ç§»å—ï¼Ÿ

**A:** 
- ä¸»è¿ç§»è„šæœ¬ï¼šæŒ‰ Ctrl+C å¯ä¸­æ–­ï¼Œä½†å¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´
- å»ºè®®ï¼šè®©è¿ç§»å®Œæˆæˆ–ä½¿ç”¨å›æ»šè„šæœ¬

---

## ğŸ†˜ è·å–å¸®åŠ©

```bash
# æŸ¥çœ‹è„šæœ¬å¸®åŠ©
python3 scripts/run_tenant_migration.py --help
python3 scripts/migrate_to_default_tenant.py --help
python3 scripts/verify_tenant_migration.py --help
python3 scripts/rollback_tenant_migration.py --help
```

---

## âœ… æ£€æŸ¥æ¸…å•

è¿ç§»å‰ï¼š
- [ ] å·²å¤‡ä»½æ•°æ®åº“
- [ ] å·²åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯
- [ ] å·²ä½¿ç”¨ --dry-run é¢„è§ˆ
- [ ] é€‰æ‹©ä¸šåŠ¡ä½å³°æœŸ

è¿ç§»åï¼š
- [ ] éªŒè¯æ•°æ®å®Œæ•´æ€§
- [ ] åŠŸèƒ½æµ‹è¯•
- [ ] æ£€æŸ¥è¿ç§»æŠ¥å‘Š
- [ ] ç›‘æ§ç³»ç»Ÿè¿è¡Œ

---

**ç¥è¿ç§»é¡ºåˆ©ï¼** ğŸ‰
